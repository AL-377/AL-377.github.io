<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>paper-model-quantization</title>
    <link href="/2023/12/15/paper-model-quantization/"/>
    <url>/2023/12/15/paper-model-quantization/</url>
    
    <content type="html"><![CDATA[<h2 id="introduction">Introduction</h2><blockquote><p>hardware motivated</p></blockquote><h2 id="ptq">PTQ</h2><p>post-training quantization</p><ul><li>minimal hyper tuning and no end2end training</li></ul><h2 id="qat">QAT</h2><p>quantization-aware training</p><ul><li>need retraining</li></ul><h2 id="pipeline-of-quantization">Pipeline of quantization</h2><h2 id="debug-of-quantization">Debug of quantization</h2>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>RAG-learning</title>
    <link href="/2023/12/15/RAG-learning/"/>
    <url>/2023/12/15/RAG-learning/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="8fb2834a4de269427229303e3d0642ee188e247f4e3fa1e5f80af598405c58b8">a713c585b30333d69f636bd2e214d018e6ff1be9736937a90875355f78c4096851f34b696af282d82beeea30ac6046ad7cc5c718b6cec36558ba7f7adcb8a81772a4a2adb170be6e53ca371178289d548cc14b0f51fefa5e466884d0845d22133c9c55949c6decbec748401d19deba3fb13ad947331e2fc7d9669f7da8dcda0c499c692593d71f71bea33ceeb824df678e077d5a541fedbb1d542d5f5abb57521683bcb8b9a565f4acea8d67bdb83cc2f6ed992b095d0960fb50fa735638143c103335ac07cfc95fb47f4c0f326364f635981fcc8a0cbb02a2fecd9c6af00b84303b62fa83d231d10083ec1a4ede9f84ec74e947720b8a7f205fe9e21adac901cc558b17f162c0574f474cabc7f7d7b5c63a0f60a997ec8935156a25278ee52ec63ba2f016e0ef2a2ddf0ccba801a8cddba1091db08734bf5ba510418d5b6a4a35642d6e97ff79db567fefc68e3824ff3dff9635992683da8052c6baf075e627ebd73b221c26de0e6dccea1bc023c35453c6083182a71796dda8233954a6e86c2759303056ddbe8d711ba378134d7f64593cee17e164de45470f47e14a61679b1d880957e4d1cfa362ec10afb6274be069a837cd968b002f472c41cec80788c553bfa0374064bb1cfbbc10327c307f036aff020ec0bc6318db90f372a540ed8048703621d61466f0791dd64871074386911208a9e8eef49c7db783f4029b59e375d7235088673abe956d2b057a3691561c1dfdc312c61394043a489685c488259bd7dce9285ecdc73c6f3239944613e9e1154ac64585fc72f41b24d2288a4f8387f2932267a4cc4e13157fb3780b714813788042925f5f3bd41d70358e949f362ead60c9432e753c9fa40230eff606003daf9e9a9c2383c5a1419d643f83c3a7009fc56699835b0a0e168c2e7bd6dc990c003dc661e94da0dfa7aaa5eeeccb9068f8a3868a03de0fc1cd326c92af75008e22d16b718ae57c7f33f9a7b5a05bcf60b64a9f2c0eeab24a04e1852fe7f3a9b08622b2b179fa5cfcbff25559db886ceda95e814f3da099c17d16c0e4f30e961cc1303d27adcca81ad12987a38512189af44aca70da0db65b035c735cf64ae8cef3cf7d8661d91cff2a49778e4498e4bdb9f8d2dcfc17325e1cea16108d9dcc749689a01c20d3338a960fb52475d6c7109dffe93e39bb5bb911f62a8dd32a525412bba0220b2447552a0235f10d47a351666374e0da65c795372b1c3b8cc1997311ba4b0a71c53ef74c0ceadf5ed26ad757549a442b8b34bd2bf1756b64dd5ea49e1ed7531eaa90eb42cf6687bdad0a5e5b9710d8053e4233e969c9d98a485b15500a2a8cf69bca97519bf85099aace5b00ea860c7475f2b489ef58e82f7c5489dd51753db4acd825094088bf76b690206a2a1117dee56052552e34d3cd1819f7cfbf5f316bee7ca29daf80cc393c233c5c5af9a14bfc03b0f98e5a0feec3a96fffc8d52f58e1d5ed5a6e5c4349d7d16e8e31668920a7056775cdc0e63ad2f5e69bd79e2bff72905cd8ab9be2a13bd24a50c3b9851ac3d0a82df393b8dfa86b376dccdc9faa0792634cfd5652f5c59ad2c41718547abfd6266e515e5f4cf8a7bf762c567a34c228ddef47880215277d0abaefcf148050abaf3c0103411b173a4bec92ccccea44f26775e314377832cd1f86835f5c612754e88e675ba72add01399566a835bcfebf772548721589aff97cd7998a5a2c063e34ce87c19e8a7a781b9cad50c92a7eba4727d2c46d391573e9550998e30c084588a0cde114724c0afc5c7482be208d9e562f8a16eb51b397d7e11a782b0ec31b96ce2d917da5acda7a95e6315b1fc4e425557a7e9c0fc08b6e0a2b36397bee1acfc58430fdf009dc4e705b75f1c6436a03b99f61c1cfcbf9e957ab859fb03a8e9236ed424a80d4e21fb150d4056e398c39380935ed35747e836a1b30134a83877974c9cfa80d240a32c63fab951196768ac54afb225eb0b6705653d193bbf342feeffeb71ba5840611b66db5bf11196b9e4a02dca4ec1fdf1f007a7381e48ca4c29d2962f9d7d1b7040af9610ebb240b68eda0f6a6dd0acbe2e0747369806a73867f8d514c5a2134fb9cf6e1f0d398c9551ba1054850d8f2f90e66cfe98d146266b372cf425a6b894df117a5bf66d574361758ee5e5c25a1a765616e4841c6c654fde3130a1733892d34a17744af8d07f7676ad389a43237e41f203835246fd8cdca28d0c29a2f78566d14e4616eb3df18056064366efa9faf2d6ebaf1a64853f0c3ca82706c74d1a487e41b0d34e3613f8b1cd5db9fad9598ca540d72d01b3759552d9081c44d4b46ce18971a6ece60e0b473f730c23b042a21cc4176cacbdad11d24a5d873522a32ef86c45a5eeb9945cebeb0bd948bf65044c117230767c050b12b48762639318442fdce7668306b82378e63cc05682c4940608d43e355e09b47d6334108d6454d2f0fd468cac245a35a344e2b20c8aac4c64fe9a85e4b42a2af2f932ad7fd42573ba8fc19f43ebd7c31e7fc5ac7c574ac9b57649331e84415a515b7a8053d543a301b4bb35768c01bbd0c77505467cd2b60ed9e728028e69a07e167d056a5b80ce73eba95df03d91e4877486972b47db4dd9e5675b1bbf19b1951c899bc634badbb6158e7d990ef49e65856ba187a7a6e6d179fed0228ae4bb782950cbd4e71109798246e40fd87caf50307c1af4c76fa82c729f51267434c16f424d14abeeb0a1a107d7a44210dd54661701052ce3e21fc7249c44a5606755ec7000ca4df14f72b3d341219480f18ac477a1153e83c65f14c41223bd57e0d9f9bd27984c8057b39b4c7f92330fb24acd222b40cf15f20b4696bf14f0ba18bb7c74e204bbedf95896ef8bfc2c4acfbb75b2e7900623492c2005820e6c594284411e3691fcd9991d4bc4f24b85f7b39d9c54d6d89c5e4dea1c5ba24a8d28adff1bcab9554217b6cbfad317766d890172a6d49f99d71fd8a2d1ab1f5a56d65608680fbb86311f5d47196baadd92cc77b3d1e04a73bc8d265065fc611f1167e0bfbab40c0adc0e17ed6adc832e0c01e8ab29fe2087aa5240c31809340eeac5606d820b1b1637466e2ad2826a4dc41078e0d825c1086dc5f0edf1448563a9ddc147a2cf35fad11dfd2ef1fc5bd1cbcb659db92471d986df35c30e971d774bbbf7369d182ed12b26f66df4541bba4e870b5bd24abb7b20ac0354e82c5fa6c29fe627af2daa429f0950e2f129e8937be63e53806535807e5c1e8ac0e10d1b5e1a6e6a523381d4f87d0b2796963422a59b8e7c6b243665c41f435bab6d28abec14d8044dc649a24a8e8931b0862fd2982f73a88d0842dd4fa11724943f4209d3a925b247d0b09c0e72c893ac79fb1519be6380e60d4ad163a6a5893d783c6e541bf48768743cc3fe404375055c87fe79b9a5a359568e090455f00f0db7070b685becc69771a60d8ac46f2622d23b66b52e92e55071bc16c4e1c7818b99e20879bc14b76b792f9504e881229a831226b899561e9e8649b4c0b8947d954dcae622dc09f03ebb381d84bc40b97322691126c2a53241fcdceb17a6f8fb1e161a34188f9f25fd369f6a3e7b674fb4e0b401031336f5e285ed147ea7a09378401e417f858eacde04677dace72df2ffc5ef57f68a0c754b6827cf56fc356fa1e014a45f9e3ef8d21010150928294d490a5e347304af067954bdfa7fea6cb276379f6dd2a2cd9d45c1eca8ae2ef97849648e291f8b28394b801ddbc0e4f2815c419e49d1bbfb1f3a3451a0ceb16cdbd79c4e49309715d0480f7e5b1b51d63c8ec8e75f04712e29688a514ed4f404b97a9d6b7be78d6639f1d8630baf28877081f1aa800f56bb08be4f9f294953075bd44fa2573d31036982321f4ce7b6b0d00a79c5a1eedaf04d6ed098e0201aecc8e77318a1606f9e83bb6623204a8ac</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>LLM</category>
      
      <category>RAG</category>
      
    </categories>
    
    
    <tags>
      
      <tag>RAG</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>quantization-learning</title>
    <link href="/2023/12/14/quantization-learning/"/>
    <url>/2023/12/14/quantization-learning/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="175018807ba56878365ab0999502aac705d2955867d00b081e15f2d199a2986e">011267d2989b78af419d149d94eaa029d76b867676a833e9a9e4a2b30abce3e4bf33d0fba3fff38d9bd27750f6d4f2151423cef4b0b3599afc50aaa3c5d157a36a875dd8b3d0d391b0b6a41ed16a88edfac469a2d0fcf74e0e123e01186e956d96d080d85d525b8fe5f7672f0397a7e33bdececdee768d27d6f8db6cef21a0a4b287180dbc062f45d5d556f5e01b61ae5337949211d22737787700c1382f4776f8abd24af3aa13387e7ec5a1b4d1752b7fd8087d24009eacd5da762a97e6805b8492746ed71880e713e3b0b980a6fbcfa2951aee9a3313c7fc738eff0281fb0b29ce670412a943e45a0041230c0c521a87422c46fe3203ee4ec31f485f6ece7f6a2faeac9e8453d7a452bf9e6de4356e44c3d3375db03da5971e5762857427af8fad22253112934a1dd937d946efcb076cc7a2cdb2631dc14aaf6e02e4c360add310c251da62d1d89027c27dc1e21acb6354ed1c64e0b728215c97c14a5b2c8672638668432a58a55e50e6af070a5276f06e355107abb2c085343d6b2c96adc752cb1c26c362492be435e7cbb2641d0f81f763e72bd8864f175ea89622abac2934cfb45bc3bd3afb5efa6193ec5df694bb5cbf104702d243f2f21610c8586d098d16cae0ba52620568bada800bc96436948b57974865af551f5f555fc848bfc681d3b9c515b796cd90b00c5b52b62bafae13b525650246d2bbe5c74f4fd5ce6b4f430e73c6d1830e163ed3ca113ee3e49084a6969679fb4076a1816289db0710e341e2a0dc00ed6c8c0bc7c489278c36dbcc7590452997e7665971c33f4f9b7471fab5ae32317805d3f0a64963414a03c1f8b89b8c8905444883d072187437ec9d70350428f67e728b3d39c7b6c7a24d8e09b0f9e3f7d88e6b62c9bf1e0a1d44b76e8757a5284f75f47e5eac6628049f17c653749ce33b6874e4f2eeabd6150a91c766ce08dafca4472f0ca826f4d3d1adb9da6086c1ea4729d33638f0810a15ce14069d85d2dd5d06a29df3a6a724c4be06b40030953cfd4e61b32a3685fb209a0320b9a432d510f37f135d96f6ddca5153491b5502001dcb0a514feb5df7fefb46ce3dfa42bf9efac40523a79fc82ab22b49b5597929c813583d39bf68d0ebab3ab49f8bd5bb04a64628a7874e85b9179f4d0183cc20b1552f21e61a4bd187204ae66df5d9f411b005601d28dc6b53b82a4769f56956aed835edaddd99d07cba464c1c8b79b5aa5d6eefa3a7bb994b4704ec35aa9ecaefa50b19ee47a307fcd74a4b5208de74698d2c675de444dd9ae46639dd951731e713ed28df879f59c9caa4ab0f5f6fcdef2b3ee00108d559b6fdbe57aabe7908017f0c1961b2263b693539975217582267cd03569d34700871ed619320e771d305e1634920baa588c6c1a212a11eb8e06339a94a7c8af3324e16f341b24c70efb21f299f025848df331688c64b9b2e27929c351cb272e7b6e238c55afcedc87e4840f37fc22de1e3cc59924fda4a7a38b0001b3011c029508b5a6f4a0aeb83bf6b0daf3cd3120c98196663697570f6598a3f114de324488f39b3ff7e91af1c17ec9c128ae45e6ba89f77069d61ad4afd93e04f6ba8b7f29f03fd0ed540ac3869aa40374798e203f4b35c670e63242a69d4766c095bd2678e3dadeedb65bdcee85ffa33a58834415bb88feefb751dbc82719143daedc15f9aea648209d874e459524e94bb36ece5dfdc8a7955f477c70efdeb44328a7b4708256b09b36490443fb014b073e7ac1ddfec744aee993794cddbb530d8901bece470ce798afadf0d2bf383f0b671422f30eb73c76e83ccf186c47f91028ad4a66784f6319469de24cce23066b3911bbd70bf85c750bf18b1521e2ffa09a0d9cd397b180d804a736d3c94fc1ed79bb39eaffe5d1b410e3cb81b46d554f30a464754d3d0de69ee8528c383b42423f9589fd305469a9b84e5d3aaf293bce6e20a7ccd7c02b7a81ff7645e68a88c9f594c2ce67154c6fd871510938cf2802900a7948ef1f03489bcdeb8d515cfb58f832f5102c33d3834da4aaeda57a75ca7baa408f3b31bdf00a9677a7d56ba2a11424d49d0e6f3e246d23550b53df67c23c8e44e7e5eb01c0b95b0bc4809a2de0d70dee9f74583b93c479e2af863cb6de2d0db1371dff5fbc26d3f2716b1dc5ec78723feb3c894b7c7372f1fa52733a34c49d81a7a6fa0bdd6f49967a79f024d9f783ef89886ab7d575b724a0b60343268a7720b3c8cb26a93390c8f444fcd962b91bea974b76a109631472dce82753c009a3e67881b3e9d1aa56e1636aa313ae26162c690267dc09af7772834fec478e069fd23e657608affe3013e8d553b1c7025154cbbdca0d80f9a2549de95e144cb455e5e91865f0eeacc5027a43844b0430f716b31c047aaf559923e62b0e773a3734738bdb9db3742d8094343d3d0c1213fe33b8300f56d8138afbc7d57b96e28af4b6ab00cbeaacf5586da97f2de1980422f0e8894d85e12715092759b1d9bd1bf2362e290ef43133ea29d9df8d6b22c93c1e6a73b8488b1082b6d72a698164f368e4ca3227bd1e21524e96108d2c8477f0385db7bb173f9ca813f66994de0896b1ce59f43819b90f008c87a4dc8d7142b9cd88125f2ff5b2345754dacb077d1cbe3b813c58660440b84e84a602e0ef2773085e2e1a5c4c61b4107b0f18a788a7bb96c68ee4533655404dc8aa853cd3fb60866d2cc7ec84d620fe4d22b7361ab368303903712e31f8f5db2d78826107adef5aa6024f65db0409cce33ef4d9d7610475ae9a9e32bc5499b57826997bbe707230e9fe3c75af44e814d07da05270366cf95400d827a8fb837174a5a92a8812e7da3d5f7621a281c0ada0db3fc294d9df8867086</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>LLM</category>
      
      <category>quantization</category>
      
    </categories>
    
    
    <tags>
      
      <tag>quantization</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LLM Resource List</title>
    <link href="/2023/12/12/LLM-resource/"/>
    <url>/2023/12/12/LLM-resource/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="696eb3f451cd281a430cd71fd35c67662c3a59eda2cfbd31e4674078a7b8cf49">53411691478b5b9b0a7b1469976248e2f9cfb98e8d63027adccfbab5e323b254e949df4a152df02564991bad85a2dad801bb84d214bdd64bd9d5c2511f9d92bffdaec1900d58fe8d09871b86c293134d1bcd50830cc37b424ee9b2c44085d6bdff5dbecb32f3ded3eb4f20cc23cb8a2ef341beceec21752e7c78890e47069ccec569267a06c724abe428d0723b0d964dd4174cfd4d81f6229c75654edb85d76d9ecf7788ba930cf271837a79c9d325d04fc71e76ad66e9831d344baca6b65197f6ed44a7738436e74c9f5587b7cc92b0c57b38375f7fc9071d049d767676c80d01216d324ff153f705edb5a7d9064a512bdb92e0a09a3f77033accdfbe2a766085e6958cac1c3679c9a8394f4e26a5c6</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>LLM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LLM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《Paper Reading》The Rise and Potential of Large Language Model</title>
    <link href="/2023/12/11/Paper-rise-potential-LLM-agents/"/>
    <url>/2023/12/11/Paper-rise-potential-LLM-agents/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="9921e5ba434ca3c0562bd1daff27c151ecd7e2d3389ca4007d8bc8f6e11deaec">b70a256e402ee1cf38a56e4188bf6989be177dc8e3c8a211a1d694dfb77b6ad7a94cc13ed5fb9fc6941f79c67c64ef65240399e1fa6a4283b0b7f6aa949437bb13ae5a04c614bba9e71b0d6779a7b4ea080de2c8dbc211f84a8d5ad3e50b40df773a7c6c129d4a2c0c0b65971fd3e8f9d8ac2c230be66800fe246e0122d76f9bb3aaeb13162c184b24af903b6bb7962d05e8be79f3ceaa767e06e5e0d2e8234ccb1463990146eba8149bef290ca1bfb9ad84f19cd73f807d8096ccbbdc191660ebe4615ea9a91833e9aa0ceccd15713263c668da4652a0ca24b3abba79544eb76e185cee42fba132e5f5b2c8f924a94241a8529de901c5622e55da260028b670f934f7b764ca5e8a86858ea383c2e2f189d7afdf5b900e8b862ef2a1a400032de1d34e4f09ccc3579db796387cc96417c04b5bc4ab91f9acadcb155f99e977a41db3b34212a11b08b18d5895df8a08341dee635de417d0b1fc806a07bace93eabf835504982314b7deceb45c432a6c1e4c45a6cf2cbb912f9cb9f683d6f6428faaeeedbe39621be617d5ae5ec467c256cebd75b144c4577e61ca3cf1c76a7392a548662814050e08b374dcbdb572869a1700ca4e238c3759d5d5daaecdec6626e99b9020c7ba4f252a858befc84c61eacfa06c0e297bc1a2545853ddb853875a2ddb0f6a181f7ce84f19d9c2d86cb8554f867b984d5e19e9fb5f8986777bae694894c0a45b16321372e9968b2470831f0c750cd2e97e6083ae087c541678f7d83b6c1fb4d583908d24cee2bc9774c81b0f6305d8638b70bd21b8431bd474d157f7e3a214ee01017b5e36aa621ee01c88499c8582eee42bde2c0a331417efb1576ff536270d8031bfc37228acf7574a5913f05e217ab0eb6de95726aaf369189ba2f702c7e7702ff71639676aa93e547ea7e23dc556be12bb523e2ff857c9a23bf8d7cd6fe2dbfa856f1515d693a856bffa4c33aa1e1156eb9d58351d905c3b000ab514dd681d2cfb022d601f17b5f799202dd489430e02189c963809ba61654a6768be93f8e9f619105fb8a883d2f7ebab559dcdd2525d7775a273f81610d5b8d3f0cf433bf0aef00bed6da55c5c62a1045c3867eb8f4c84e73ae9d9e25faaf3b2c93659059372a15ab0fb1e1897271d9886e2dd063e1e96de6f299953f027d8d9926bd43d3c89bee8151e9476db9861b5e8497ea19595b480560064efda52f668a2241a453e050d767812573837fec8e00abfcd678763db8f2c6ed7c4398b6d74c19d57fdc1c27607da0d0ed14d5990fdf51e3fc171b0f929b55259abbd71b024d2ff8aff2dd661e8198c3bf147d4c28ed4226db5728aa828848fb4314e95e8f8bc22abf6bfdd60e63216bb5fdd21ddf03dbecb0df5fb0dd1428d92ba442c554fee5c145a93379bf4a6b2ed34cbfe5d0e9bd8af187b4b3f4679eddfe73197d24439217be950f5d4e79e815c00b7cb4b82986d103060cabae9c408cdb3e6ec6bfffc84220be22bb139c3bb0e3d97dbebc2cfed308269529dc82f629c1c8c5cc0ed26c24becbc0f8394f762c671d6b5f93bb2e956c3c3d37b95c3df14dd1cba22905b0c9239d532579011780d471d8878e6461cd4817a65ef5bdbb70c69fc517ca4af2b02699921096fc160c6ce8b760c17b19c6678a71f838af0685661a0a1829b2b186ab4a0a6c582fcd965dda03c591f0a20a6c3fbf9fe6e53fc25e00655e30e0be199aca531a088a283fdd4310b0380276aa81a7176f5e20adc97e44dbb9ab5a572483dd2b844cca8f7e608b3b9fcbdf3921fac3fe0a7c24d995eee5865cf05a9f92e0e2d8fd447e3c0111f1e741805fe8ce5af7ec06b79bf42b16bee803a9358e284d55161913ca270e94f089cdc0acd1085bfbc8486a63eddfacea8b63185101aa619dc82e55b0079757e8b2d4d6d39dcb33ab87f152f70decf8ecb1ec4dbcaeab30fd686b367d6f22836b513c9f354feb0d1ed0a5e47e3d5c84911c9e8edb4cbae435a79621ba2f37c613297466af519a149d4a6889ac9051e5874f223f61cdb319d5e763c7078b21dd3db3f1dff654efa94e09ce7450dbae91bab474f87aea5d7229765fedeb04f6aa50fcf26316c9183fd63683af78f90792f53bf52895886fea51935cd02da06bd0f5f1a1e10975c6130c33f435ceee90369405b143aef69c1974cfbe8bbe7d67bfea26f6f5a17d3110e111d63140f96b54398f2017cfc846d4242b8321f31e07881dd56c7109d9082769796abab7ca03bd08e0dd9b897b2522df2d65c7877a3ea45186a652a11df204ea46cff4cc1e110c9cc8e377d4ecfb0e4fe87f36fa25103e2049ff0e8283fc368a2418f805f88f45ccc6cc1bf75efab8d91774ee8476dadb34c02f31e9523a599e1f9a5347397e72bace31920844c242c68b93e35791e16007fd867eaefea2bed0024ac8ea097b1eabe32a2d0cd5307548b8090dc61820cdca1e393b95700a39453691c1ccd174ca05af6c91f6fedfd6e169625ebf792db5ffa4aa5da96ad91484a1fce063e4146fd551e91cedc41c36231d0a3ec3b2e9011deeef9ad32e231cdc17e59dc5519832db1de620b4cf4d095d601a3724d9978e5aac00df0e6eaae11dca58fe8683b94aeec091e020d5c0443e7a9028142ae7e38568570cd4accf5722f1650ef0a6a9e16bf85376cf12d1d3a7af9719d54886cbdadbd3e80272aaae852d53a7bc3fbb33db545c86ce9ed1270520966efe2d617b8fd863a861a260ed6d7ad768d1535857f11937a2a1cddea402345dfe520b2c95758e68790c6803e6b283ced4f785d6a8019555276885951647f5f5a5b72a15029ccb8f82a0b08ea321ff0726785e026a86a4b6135c0e591179ef102044d6afa92e947cb848bbad230c3d261f998f60a62338c5e289648666830e59b8991abec22e24ac3a6b76f130157649cc286d29bb2522b824c1d9c6ea2051d639791515cb84efa49f847df284dc90732a6f5220bbf442e5534bda8fa2557a00c1cffd32623fb9cfdfb507e1fad6966a4f17a7d1ea4df7acc398727969987c5f5e8c90f6f2ec43bcd2b3070c36388287179541208a8118f0cad5fa58d30d5b086acbe1f47a530abdf5fdf98592c37c41ceae7bb04d6e8d1747e9f673d520719329f117318b99ac140e700b41f2381286fe06d7518dd7397c2f5dfa41b569642ec693e00a93ad5190a5e26ad1933bfaac98062c1ef0428f86ce4e34890a0306414ac4a26db3e77ddf7901f259acb56b762baa077263d26424e0268f62cf925078de03428660ddfe971bbede9aed1a38b5439b03084d47fdce1c3226265636b39dee989f9804e9626eacfa96ec7f72f834d8d96136541940c52e150db6270edabf5735f188c0b0a637502440517b42f6c9c90af59275673389427266ce794bba12872535d9753fbefef44b99a1bf545275969d8ffe5e42b5ec28ff6b53180cf69773c8584c933281f98a5e85b7ea88f68996f9df4ce83807472081bf174aa386e464d6253fcca11b69423a7467ae9c9404258a5356d57ad742da6c81dec53912be063a3bf39e7316cd46cdcaf2edddd967fc527483bd75e495f46816e71136f206ae0546082752b6288e9a4a261d144676d884cbac173a40f48bd3bceca8b4968048d45380b9510b6df35786ae80ff8bb811e4aa24bc6de821773425b8ef4aa20e48b9a5c84fb82ef67ea046c7ca3b2b8af97f9619d6a65445dc84499b53c08595dc6aa95db823b7a360bc0d3b086cd3f57a3175196f815dd906acccfb677c2012431d87872f13466855383df28c60d6112e13e3d6031eb9980bed9369e1812596de7406eafd165d4d942928d4f23b417b1c8e7088e9a3c8a7b0ce5636b9c81c4e40fc58783772e865d856933ec939fd4da1109f2ac8972002455bede0dddb108306070fffaa4d07299a855194eba40868b5d6d0291435cf6544579a0fc90c7596ca3eccfce443d5700fcbf5ca35a36fd6be43569db5395f77319cadb80c9ddf2fc19a1d5567aa1bd11b1b774900c6fb62bf28a74e03a80c3657772c9c6ba2a97f1c0fb9ec7cda29d436ecaa2dee9c6847add4901027e7877877a3aeec406c96f19a4418b579a55081bcb1539b7652275194e5756c9eff8530a39324caa552743b4dfd5b5e8963e618e4e1e1cb1c2949ec7ded42e2ae416c019dfdf01de8c970d6114ba0b8b371b73955d20538aea791d4b70350affd8bb4ccdf3fe50e411694ac3fc8f01dce99983b584e9a7573004b7da709541180a4277733eb3c33ff5617833534246c9d70730286dcacdf7321871e13b98c3dd19c95fa96394c1c3ee65dbad50e5b0ee3cff14a2dfc34a122d0b00261c080ca7a55283b643aa751cfd3c50576b205a1f896416286673e324f16328313266347f2eb643f6330d07c70ac586f31a8675b892be96bdf40d654f1b91a2f96b128c8ccb0d1fdc8d30a0abfe1315be48b0a1b68fccce6664e0bec250ab4779729ae36aeb78e3f29f6b47ad9f29c3e182ecddaa34141fcc3ab42767298f425a6698b9211d119a0f0674678ac1d160f34e0b41b1c5d166b22dfe776142b9c2fca9e319d6662d3e547c91a048c6c138bb7500fd6deecfd28bcd5971a7f20aa331bfe9b9dc650498a280f9093620fa9a1ee0f5ce1dfe1063bc9f565a4b727bade3e59a2660f02c8ad24ac829d566becf6e77aa48cccc3dd2006cda60bf1e9044c149f925126a3fd449b86b39bbcc027ad0e2b8d8cb99e2522acddbdbeeb28ab0e75daa239fc53ce1f042b5f2587bb12b62be64128ef3b5feb584916c115034bd6a6a193b3151c5b3ea8ca91c1a72813b74594c96a1d13c26924d83268f695d6669456fd067c488dbbb14a53d406083e9eee05cf2d7ec945597a01e983e89c1a3dc113b1ed699a250ba0334d6c71bddd83a986e1c628d5033262e18dbbb508e3dd3e97309bf79b59dfa8c4591fd8e6d4627f21a31dfb25c242e6f2775136319074bc545c87622efab5950090619611094bc0afeb31bf0a6a8be7459bfe0aef795c37a0f705e107907cb85241e5bec8be4e727f757ed41c63953dff6e18f7ede30bd415c8c1d5f8283c7a6f638a70ed9262e1e83f73942c382f42ed9e3c6f9d8f3fc5579d4a320cd800124c7e07102b18f58ec274d28a17bca0d9d07fe258c90fb938c82e16fa7eaf6031c114824036d30e1ff02403041f22d3e99edab90822cbc10dedf954bfae562357673a7d6b0775dc727bb7bbcf3cdbeb953fc43307adedbc6a79d1c220c9e9f3a275ec5c572c83d70a675277fe065af12d23ca96c3245f46ae9346321280f0eb122edf00845654896fabf9d7b33917afb88e01b3540c1e5ed90408c50fd45b1f2b7de6b4ed23775576b6b00b2dd434c1e6f6b1003fcd7c4306d9dc3697bca959ee07a652bd452f9e6649ba2494ee8f50adca732d994f6df119eab6c4853119c35e4904d43c2f64708fcaceb84ea467801e6ea0133c7b4c3f4a253881ca3a31f4809016dcb75476ba61f944e1ca79fdf6700762deb3d8b2b782f023320356319cf912f4144416ef6ba6a6cb1939ad2ebb22e9cf6b2283567de6372d4da9eae30c18b5fb2deef25aecd8e760192d0738d6773be72df0c34a4ce4aa3fd3045391926b774a5b503bec9f07fb8cf4dad73f8dcdc6ecd0aeb397e664dc9e730c56e9b3a24c87bbc7202a767b113b89ce143bf0f989c9a771ba027bca958c031954944238d2bc2607025c166ca5bb5d9fcad3d7de5b822e8485f7116f78ce24a663eff3708573c5ec044a72e7028c435ca7f8c5093d89ba55d8326af11878fd59acf45550ad5655a0d0b305bf206c2443d3adb62adc284f1fe56a2b44e0c4c3599081f48af75c0d21a00a9a8cd4d68f6606976ecbc6dd9a327b4c1039933d557aa1c2a368466e47cc0998e2083a17f83eccd5616861b6d84f5a872e8ed87637177493effbdc1dfef563337d58a7c4cf7b08c5f4cf8658ac7551748a8c1de11d9d6c30ab231621af69bc1dd15f21ccb5fbdaad253a7636d65258f59515eac22526ad5683b6df7b7bedf667f9d762577be69243bc0fc765f148e84d08f30e50f9c93770c2cf602e7c61f56f55fc89cfeb0e9d08639aeb380c768f1c1ddb464fd12521c905da2922df61f8184ccb0495f0e975c8e9fbf83caf11b9e25be3d9c4b5e2d45ad8e43dc1717d93eca9e597e5300c1b125e927f3d21c2b33a626ebd8b2f8a747357f812047172f5d3257339facacc30eb6178051d6508ca786979f0ca27c741b5667e0649941b50d99de6a707344d156815b965d1bd600de9368a94e9c5d5c7d73f1a233627b58d5efb96e0a845d68c1abda86874f12c41e72a6eb6c4a9255942008584a44c3ba1ea9830774697557cd8f6eb7b129c864843469084574031d2f3b30f1a509fc845259faba46d22350d0f8adb902be356eb6344d455f3df5c831ad763a2ab30db08b5cabac2a675ce1b6a342528118d96b2484165355dd20e6b139c6fc5649c95bd68fec9f416b7b477188d0d43007d3e87187c491bae1dcc727ada71766ba9a9b03b3720dca1504a96594572c5d5970ee5ad6086feec97e4d2a76548440bc5b536364dff577b39c21ef723a00b628c1448f28c26c6dccb8185cae38335615b9d28b54bf1f5453a296a45fa2a413d42948d32e28f85a78fac6b607d764a2ba6ef25592a4429a96fa00cb4dd4cf4d25fd531e9dce16e0ce182cd9eaa2c444728ce405c20e321003eff048d9881d0f89fecb6b719e1004d8ce3a33ed90d1e9911c83da177534e220f425a7a36c6d0ffc9a2c63de81dcb4fe6ec3831cb2b159ae60f9cfb8dd7c9639750143dda3d84c62b377a18cb1958e55087fe8e08b77bdd4e9772cc0c99b7cece722bacdb7f67291e59b1fc74fe380d1f57cce3bac4a5b360836e5043a2e7b0526b6ecf537a24f727b63c4afdcf8645993a6abbe11126d9d4a1d52259daee890aedcdcbf70009ada7b989bc7f0522e61b6858f4cd8cf4a4d9f5e4ed9a8f48c75dbccfd9c76bd8c97a6c05ddc74cf21a4edccf655a6397c225bbe50bbb7cd65419a09c0b8ba67bb6401e96370f0a7c54bb5ddebd14f6d1d859e54af733832ec02003f1810bd33da0ddc9b665ba0e04454d7277321be6b7b5a195e4207c3ce0668d4b2c5ecebd35f75aa58e1dd769739906c47dca0344c39c888843d8d7667cf8681eaa9ca0453766e770f91727eb761fe7811a2c72f53375c6fa4341c82e21f0c0f3293fcbe1794f8d6a4460c5f39229b9af574cd2dbf292ff71d7606a702264d7b06fee212219ce86e1408f7dd633c0f2a3001c653290cbbf3dd2f5acbc04eb81e4e99ddc8814bc15c35b35ea7f114a4dedb8d91710292fb879da7c0f220803beca6bccbdee353138cb50a3685f7af965808dd83510096a5e49e648c7f3124bb58e78734b6dd4445bcd9fca81c9cfd63e54156e3cc429821a32dfb56390fdd6e930d814978bd36f85591a1eec7de1363e52c951a4802a5fb43e31ca681d3d599057e34a3c7b23ff614b25bc43dd04126f0de2a6bc59fea77b18da9459a1f824b73ff7bcf7fa3c49ed3987e4d276ce5c540cfe62c53cfb06ff801116705c0887bf456a9841a98c422a36e3898109e1f29a3af6593028ef1d12e9611b073e65a81e5a1bb29413a08954eb95c4bcc9e40fb2478a5dacc5973437946639e3171a3e0655a47651af748dc674291f7bff79851ddcaae79fcb1117d44fef69e93dc23be862d009961f0d6f53b469a7b4cac5f7850ccb6a674f8196e7f45d92a3a8fe2e2183cfa87ac6cf7fa53b8750646dc3e6ab68286d9738c97af8fdbc837c2c7277a7b7a48a23b8133baa18ccbdd58a283a36c1cd6059140811a6f76b2b9b8dff2d5964de6d7848e4f3f097a967d07c14c3089a13f98db1ba1d8a8bacce19cdbb4cc655f09b692be4bfcdadaf02a2441cc2a972d665545334b2c72456ecc8a2865e079bbece16855092e18760cc3cdf771e6ab4d0034cacaf2058955f9122b69db9dd9e2928b1b68bbb4ecb80b9ec362c8ab0b105fdbe64b59ff672967556a8234a07d23401400aca69d16d9598ae355b2d5d9ddae9cdafde5a0e4f60cfab3f798b4a7fbaabc230a003846c7b9f725a6b17931038ca9952d107cfd1775a843a92b21b90055a537c669836b59e0bf57dfc85fee842e6a37e4f34eecfb60c61bf3b507099c6a0c2c60be04d37109501a950756fca1f713ce3389f19cd547ddbd4e5e122dc6e55609b06afcd90348cb8282e41805b4662ca7182c5485c2ef304820733b23f7693e8310e7bd7e7c1c5a25ddf337876c8521005ccc19f9ea569dddafbe6933d742d60923b34a2f7d9fb6277aa9b45ffc8d8210ebc905744f4a8f477ada171bc87ec486a21d40d49d908bfdb74165dac7a9a9d5606b646c29c8fd1dac9f0ec17110ddcba3ae1383f3a542c643036e347f2d58d0d528dc0ef8cac468e939bc6ca6e30dbb6ad4803c96bdbc17b1df57f78f03f799384405303caf75a3cef9e0ea71377cb815122271fd5325d83aec54e3b205baf23018caf85a00ca3a73d96c733bdefcb718d6ada16b4d2f7185579007c8af82f5594f841022f7aa8c4218e4e2a03900a19d30236daa42e62d1b2512fad18c5c0d9bebb91b7892e2fc37ba0eeecd153a66b33ed38237672550d47430f32c8a9869d052df72551fc4d29a717df14b91e6465724cb40dc69f757acb3e2039daad3922c6a7eaf26e748569dad1e42e8c82b002a3ecefc72028f1585934ffb9c6402ddb75879a11acac11a28562772ab894dd83e00706b123f9afb123f97ce02da8829b1cb76da0743cae38b1eb8a8b00a34d6718658207f1bf2e593f2aabf835e6a5daed13dd1a0505b596bb56cef03b7d22b3d84911048cd1f276d48db0d20050e8d3fda4f4575d4a72c70ccfe6e2d59100226f078d9d9fbcb6ccd3484461602a64e213870b15473b6889273b5107021bb77d028a2e6078c5f34495a999b9c3da58b6a5f47a910142e6b5972f1795649051cee9303006da0f05a81a0f3bda7a4523e8bde8d2f1ebb28d356cd5f7ad9d0926c47cfd2494238cedd024996412911b72cb916960161035b4b25c2a158e712b5d4284f40334aeaf2c375dfbd6156927554049705002daaef28d0d687f2656efbf6ab9d29760e7204405100ef01f03080d90440a10e19a26c67c0b9b2ae07edc3c748f9150ddc265877b6fa0c643de0925870ab1a8d33e1d7d1ffd959cc37ab7b65f40ace4970aa0dcfafd0a63f7f3da4e2e95faff800205aab0e9d1d08e890fe5f875ac46216ab90fc25d45d22692d693d002f06adabc21fab599db6592c7f684604214fa94843f33e790493934dde97e70c41b416f99e13cb1e28f908ef16c9a41d229c0f23d614a60b3db4b0fc3f76e47d34c590fdeabe21742a2425bc395df6aa02f89296c942aa9bdfd641b3411cf1f321ea6c00aa45cd2091a24e0217738e375ee9d6760787b24901c77a110540f47414ce014191bdbee75f966f0f297a3619fe029d3a88e8b30e87ae3bda6509773e1677983419b82ba414771430c6e2c595e8d84828b5e918893fde458a25e5d575b91e8d9101af43de54165d8f085f002162ee9d5db9637332320d6c4be315240a14736d4f4655e5372de998f654985164e6d5a7c86305dcd700601531fdc946</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>LLM</category>
      
      <category>Agents</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Agents</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Agent随笔</title>
    <link href="/2023/12/10/Agent-Resource/"/>
    <url>/2023/12/10/Agent-Resource/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="5cff773d0a343d30365a9e1b640e04de7639f9424e83cfc3683658d97aa1b04e">3fad02f61fb78098c33d6359888ca0d3d34938fe61a8aab247d1859c2fd27aad135d39c9d996a06b666cc495e8b49f559ad3c9bb7c4267c54c4f3dcfaed4090702c88d989fe33fb2be64b5be61d19c52ef3aa9ad7707cd73055b11362dd2de0736941ce022dbb7ebecf9f8f29a2b2dee47c893ac94f2c893a1e89fd9582cbaf132c989e678c36a76f32aa240349817d345c9154a3c2655563c4fcff5579e48fa63ba872b61014a434249bc2858f632991c40a4f94e0bbcf421e781e4f42361aaea9d78b7499779f69deb3eb51e0ca0143aff7fee23d94104287595a5a50f58897e49deec4276ccd2c83d70c0f44eced1b722ab6d0e3744daed1b1d30ecf7e0c43facdbb1a7b61f045b2639d87c25f302e27e56a5640db6eb4aa494624fc7b06d07756cdce67f079eef3b9c392f5267a71dc75341979e7696dede5a3e3599552678833d2883708941036a60a8bf69aaad6a9f77b8f10fb891445372594cf0cd4647bace8dcb943413843844f2558335395d7f80992591539151d87c363d0bbd44e7a2865f0eacb0b59dc60517a984e9836655071e4364d4c183f32713b78c270102284bed7fd9b92d5e2b01b39780ad3d5242fa7e4544567c1022fb43afa2d036cbeb80d05aa903a5766dc45963588e93df09da105447f9753f299d362ddf181644d5b00de1eb96c8c5177530a76c074aa9751fa9b85c19e43a553040905efa8e8eb63cc3dab72d099de230919258ed4ae3e34840cf579359df413c1e4b94b6f3d30b4732eacd31ceec0da525eeb7d396d3dce41cbd9f2b06c1509697b2e73cc0ca06f9d5d36f317ebe9408d340d653b6e3a41ef66fd8ea9ff94113bbcc08e8ddf47e0038cc30a73a61ff054145234816baf0cf0631b2252106aa3c870de1699ee466a8ec17faa99cc16a44c3c5d26b54172ad78de9ef146853967cb6c96e5902105ccafe53a1025ce9466a5546f6a91b2cd3747e8c5adaa720821b60a8d91579a8945c3cc4d8f40272cd2185990f34a64aaa42176430a30a84f22b748af5accc749f7928c2eec1f3215887b7aa3271c057e1fc0a8919941a39b4bc5a73adbd6c3fce52a6198d176e80852d6d605269883f03bc2f41f805f69114135433ae4af891e7bd582696793c40d090f0eea4a2e429e139fc93a82a73a5a00ba4d9728a5d73b11b2ac6318e83c1e9eb2894b69516739903f332db1a69b3f1346c1689359bd4783791b206aba576a120515457f157bc18b6c1a9b7331d6df825536c8a1b1d17a7b1e966a15695f4addb37547643d07f22fb6fb1be98cda9735a68fc7111f8bf2aebdf5029ff81637dc3a03590ce25f3075f48a908bd5dd63440f4fb8c15311b810bbbc8ad6010fd63c40a254a06c9a5cc42ab36c68fd412c8776c3faf9e14b1b1addaa7600b011282f1457c4a06aa1a534dc525fcefb6823bcb62a856c54a3df8620f4933c1c82b33f311e075d2422829abec1c4ca1c87973eabc02f67124767900bb411329426afff677b7609ce4f56ca9fad3204e2113bded22f45e081de6940dfbdd3bfe99ff76041789576e1e2b318a5c202ed02bb68bb59a037f02e904793ca564fa7988f4fad17e9a9b6236b7fc8abd100a85685947cae6ae1fb01f851343c7fd584a3d9a67a83a414ee9d899b5c58b73f2ddf91ac2ca6ad8aef1e21376ebe7f8e3f5299106a1468b52f4f355333e7450fac1218877c8f0fdcf3d833f86b06cfa9a5d602011587f4cc5a11c0c3f2a364741f9b8789fe553a9f1a6636870ce96d10d5a8ed59e4debf41fd3e297b57422eeb3a5fd981478d4e901f4bf9a51d95df71d272796afbc4417073096faea2c19bc89c34099a565ce71639cd4d2dbf110db0b8713e42ce07c360052bbb82adf04c8d7b36bbc94d46986a6060a22972f8bf36ce0f793e6c6c48fcdc480b4baf7fde5ebd94f2e6e884fda8a52dc97ff6c5cbc5f0468e7a6c976c8db42154e13efa780f0a2e6a544dc6ff7304b79036202ea290688f0089a12639ebd3699c89af69aef3753024fc174a007a6899216bba35ca0805e2be53d3edc7dc3e71032d0e2f5ddf04be95d7429efe4f248fa244ca8b9aa1265e8daab9025709eca33da5550e6ddfd9570e350c1fd52e8be59c43d3410d1668e21ee630815c7008ec73be38387e3bc1a75cb15b5adbfbeecef31a2e3cbb7af48905a3df4dd8de5662176079cf32fd5ea8afe510f5a79efcebb211e07b6c97d0976e420ff4b7aa8b1d12fb3f040b9a82f102326efb819134468c60b32e3fe065283eb61a45662aa4c15c8ec38334f921a5b292598a717a48927725cff78de8e9951cdfdcb13415f6012d82f396b7e0f7be0bf0a13e7f7170e2797af57821cb08456162282335100de6c4c01fb7cace1de0c121598d5ae2f9ec3b2767c9965c48cdc1a956f4408033e50ca29c7fd0b60b896b69dc3564dc96a089bfc8a76728a64b2b7aea9e46eb5d508df0c6080dcbe7287bc53d91d093540fc6c6b6adc8d5ea380f480482c64c2f57b632f6c7230b8f69bbe4303e00e775fc03e3f578ef78be3f43867c3e58ed00bdb4a1fdfaabf2b77b1d315fb10518d5dd0bac661422bd574ba8802dcb1c492868d87b3592d449cf6503de5331a2e5d2af4eca55264c9b664cc3d6bfe8762f48bf4e33f4bcac613eae2166359cf187eaa4e17f8ec9f922856193de6396b35f89cd7f1b2be9c91a3efb814e19c10b08b7bd3213991d6de6231d01996355fff8e37430449d651f9a6d5b751024465d9c6bd69aa3825b20d204340b25bae5909a4918ec6cb6b9eb7ae421ff71cd855bc8252197bf4b730e35977a1b03fe81b508c42ef302048fbd4a98c92224484124a054836f5922f8db510f987d1cc46d3ce3d86a956e1d2770cadbf431afda9deb670e931bb29a4ecbf6ea59980cd0192536fb296900b1c2d7cf59ad151c3b0fc331befc9f0791f145c3512d33fb7bffe7d9e60bacb5e9283549008f4531868ae6a700e8353fd6ab3f60485ba437cc55e2f02fac2bf8d7bccb90dfd867b5f349dee5dbf12753ef55bc9dc9cda18f20944fe55f347dbe972ee96baa61882a8d4558bbd1bd0d6cb3479aa959a71d0705c8f4b6bac6f527c9b5fe4491414dd11019068eefa4461cfdf6b33ed51ee690d134affc66d7361649f45f9e8ac567a4f6ba0b0fe0ec0becedb93f53b67e089189591d0dc26b0626b30caaa029fca5116f8dcbd73a38de2a1ddd43950798a4dc0d58a9272157adcaeb36c857d11f0e2a173e9cabfc0e57fffa7f7ba1f438caa3516e723be640195d340ae5c457517c15fe8b3d9f90ced16c4aab67fa33963bc0da6cc9ba0df3bc6ce599654875a060548bd92a6f9b4e8d4118490d7bc5a76a51ae01d2ef55f27f83ca74bc418b9ca234b72e2c55f1dc7bc2f9729b53dcfff4c99f283b2a6c9687122961d717091b7a96ae09e1574d24a3f5503ac4663616fbc15e7cc1011fa3b0cc2be7c67990d7cc767ec8a337951640a8392bef575594e10656ff7d467b9f8cead4ed0ece72af884bfdaa364c97a2cc368ff90f71e50c0fcf7d1f321ad2a8f5fea270fc16ccccb82cec5e8912398fe143d24ced226ca7c9c7a44a27c2cd704e71c149502b8291e327162179354564f5aadc4d012a6ed6acf8748f4b1a77776db361b69a529d9ddc548a87459977f26c7b2120a3eaf3d030ebf71f0ef5efc94de816b3e2d0e332cd33f4603294e6c16a1082ffc25d6077089392e2d16aa2965f1357f62529df4f873766a51ed5222d83f786fff15527326d66cb76404391f39bd8e9c137777d4d872945702dd077df3</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>LLM</category>
      
      <category>Agents</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Agents</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>XAgent-Introduction</title>
    <link href="/2023/12/07/XAgent-Intro/"/>
    <url>/2023/12/07/XAgent-Intro/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="0c5a7d6bc26429143310a7897d15d775186be0feaac5d29a1c7658bf67e07ad4">0812ee5b7cdfae5d804eebebc252ece9fadfad1aa1eeef6716e80d7d46291fa667b76ee8e3e97fd29433ade172916ddd13ff47f1a010bf245a4bb588b48d5c56781c0269b4aac1ebebd4912a19542d0d8888e17fbfb1c8f1912eebe3c3a93d1a8b7b7aeb40adf1c5bd0cd1e0719649281b81473630601bf95b921ada7e0a0b620cb4aba44e263c20735deec574fb5e84134dcd538b3d89d2125630f413aeac7bfdbb2f8856fc9d3a31a35e72b822bca346a2459ae7544683aa77ab401a2b21dea4ad34346636c6f8c20482a368be4f57bc598b5b1fe3a2fdf8be4f6b08a018523bdfac85e6305eec7729eb620f512e8be89ee03ef5048986f2c81dc03bca8e456c375b5836f48f9c27851bdb87b4d0e4fff6d834d0f9714ced13186c22db5b15e562017e0404aa3a28337cab7f485322fa60dac0dd9cf3ec7ec7e98a01ff600231c5eff1997e9b85634a0e0af3a6d90e1278d97a5126b7ffa4aac2f3131bf0bc26844d38a7c419ad51765b301032a93df28ba6ff4143637faf3d8758d6e9a58996ba809f049070944c8a0c25cc5a34b4ee7f232d540a00107d044e1f4b3aa8df4cca99b80dc445c53c62ba8a34c5e9cdb674a2171fc9b8bae8132f740d75241f18781ddd24f4e55ad11554f1aabf11d99149aa4858e13aa9c695a6e76c1efa033feb2be4952a6d9573a04cac9d11ea726b37110d3eaa391b0d06844b359846f6dea4818b2a4696e434f30342f3b22070518421ca85e2292aedce0236dd784c28a85819944c034efb3ecbb40a0347385cc6d0bcb4ba58ac2fd86fcd4318be4e2ade3187971e2dd4d4151b1e92c5af8496f336b1aff7cd42285d3a201219edc1dd48145bf34f46655b6c81bee4fdddee37b90c0d5f87bb2f590b2c45069616a024c9695a2460909ba4923626042c26fc2016efe4f43bd261b96d2de9a22f448ec89213fca93fd720f3a1e63d0c5b9e1fd6fac720082b9a8c40d74d49c58e247ce880f046b1f0ec6af7cb7a04104770baf783e7e668cb9e9fcc4703c75e8d955cbb2eab302b7de2ec61a530ec5dfcbec4f6c93f41fe87a8744f125d1134fc5d5b00e9c28be53b28a8909b1c1cbbdec1eddf48db90792f2ad9f8d29dcd42275751f8027a49c2ade2db927dcc098e9c4ace0c1c4754534bcec3454298434c0c84f3367e42aa90ac57830a38c138dd5b336bd10a9576991febc9434e4e424c513177b78af0333f4cac4d18b5240f482284645c1db6f06310461fbdc5339eef97834cef4b5990ec2dd57462a98182bdd53450ada2e03142db03109cf8d3f27940cd8080597eacbb39aff9ab7b6ac9038520b5ba4c03ae4bf93cd773ae18333f829dea275609c0c4cff5852aaa71806661161498ac1cd39400b447736765b5551607d40fde2333905bd09e298e3d331b24ef46ed226b21983c11855e28577a9c5dcbf9c728c6598b324153d58557807ed18d9d607ffba7f1183d7789caeec556a02591140c9167dee15de4664842812f5d3e363034b821d24292ea25a41983641c725616c3e2eafde106f9efdf8439b73fc9d94a64f67cecb975ddbeabed5752ee544df9fd249beb0b17e60ab7f60e10dea31df746aa607f113e84e456d5924fb5b742b0e381b3f53b645017ee311f934e52ae3c914c368a04b172300a9f9f036819a361103780d46421b874156fe9d6ab3e81f72a79b54b8ce25ec70c083e3cf7c8bd365882075e1d31bdde5197c18ba692ee6f5dbb226739d2a3e81a86a357e3c7ab8f7728272e49bcdc7ab0454a48bb7c1c8ecc36208cc6e358aa0a94f4a5280b6ce5ab3c5a66f931add98353a664fb81d4840e1b301a80e6af2cac603813c1d5601226688c5da90ab6d68b4be6932e5073f52675bcc9f94d3ca9f8db1e0d2ca28bd6fb25e5f57d6aa35a51e8307b5361f8985c34cde3a942a2c81829f770f1bb14e9f73cd279548b2f3b2bf06c0e71a1f686518ce0a101fd9015631ad08805a0b5ecb018ff5023c55a279fbd9b710ec162d574c2f78da1c0dfea2424b2c9c37173f6cf9f7f90181dac76fa1b41de8a0e789b0ed4f99c7ae0df5ba222e07625fb783ed515970c4354a46d790501b1a3056ad6e82fa82afc83a6093bfe4d8b51059493d0ff6f34dd4a58d99d37fac705ab1c5cda5b5719d139156b7979e3022d8da69331b6ac70d48ddffd689523d1ecc52cf81abce74fe868da0a3231de625312c1ca87f31a87129a18d011dbdbd63f38df595a21d27121c36adcfce3ffca2c4febbbbbc15330665e1523b1ba10b368918a4b30e14638006b15dd5b6789db477fdb07eeebd16692671fca78d18d353057f8b670275ef9d564e80b2795f2be23d10aa96405e71e1a1f074ed9045059fa24acd075004d2e017bba8e8be7aca2c02ce5942fb21f8205af045eb34312b84e5766b2ebfb21e525c1181bfffe975b875223aa41ebc36f6fe59628246a0ee4ecd9e89cb2d936b740d2a6f7266b17201858f88b3399a3f38a8d106500a20a1a864cad28db7a90cb0b9fa726ae6185d46b107b9303cab753545109c11c1b0ac133c59efadfc1b1a8440293180115953b912e608b476ba80328032f8d9af1a3466575e361da0bd9d836d30e735415d8e0394a763a56fd363d2053fefbddc95f4663dcecabf9eeac0f7a21456d983bae873c1294abb92254361e016422385f6236e86bc17d602bd5a3ce5029b5f86ebf25555ab2d83bc0db1d639508d93353067103c29a613d59b06dfe5fd636df88f75fd3ced1a66a2e9971fb41ea561a7a63be8046b2d6f5137e71231e5dea7d8d28b65eef0a9df1ee219aaaa92a33f509d6c4b890c7d3698f868626519fd77c65068c98c025a1fc1294a933fd6fe0649c6b3bf74ab9ff993acfff9bd985cb88b3b3a00caa602a6317941c442cc88163031a2004fb161550ed2a4af1a617c56fb47dec321b0ee2f081a947e52922d4404f2278ac8f44e7416fbaa0f33cf07e29282c856a5cf297cea5e418324c7192a069cce4d559bfe379e18fb96a0b74fc3cfc9196bdf411da7098b88ee6a2265cb7b4fcb7d501d13e1123ca7fabee9087e96b4d5e71cc9691dfe32003658dd2ac8e33415e88a513fd48d5fa44be7dbba882849a3a1ce16a0d4e7fb5715dc1688641e60fae98502d873b479274b8dd174de195915b5818988bacf5beda77c53d58da04d9ca842619c9b4492e1956fdc962ce971b8fc2efd62abc188636b105ef90661b485b0782210e435423f1cba914eaa08165a1566547b0ddf74d1191bec0429c29bcd3303df76ae4cb59c480b958ec38cbea3365105686c8f776346c8384d7f207def4554fc4c7d4792adf8e14eafc65170c7cc49c801bf57bc034e26b35f295b46aa8efd2e9d83b36408fb9ebf2f31f06934f664d4075329bb58738bc9f017bd7a0d329c18b12f32802b38c16c1bc1bf53ca3139a0a7376c8d549fd1caad818e5ba4233078a77f172dd5c8591b7c94ca8b612865e5aadb4e1b194b3a8ef6406d33d9dbb422fdbc8a8ff50ece47cfaffb1d9c39a53c8ac99360dd5c2d25cf1549219d97fc424ffdad1999bc76b85edd6741109918a11bc6d99d0f174cc1b89e5919d4700d76faf5a3148df6a502aa917d5938b9544eaaf104c1a5ef144c2a8ea5e4ba77a6d3586a9f3c35c7ab0596ffe65e330e5090f076bfa356c4744ffbdf1e83a0980be94643070bbf47342cc14b51993515b24368f451319a45891aea01329b7650aeea3571d11cdde7030c4b90d07fd8a770485e203cb6309c8bfd2dd7d16bc4e0e7bb27679fe534a6bd692addda9bcc27c211c95e22c1ae9d940cd19f2463d48a0471ac344a1ff45348cf2133021421a1531765dd9016bfae4d8ada51907898a318e78530b5fab36b348d52bc5efc50c597483ff80e71b9e856eaaefb3c4bd7a8a904035ca246555a14f7e0eb10d59482084a32f49915daf6ad46c1eb4b200b8f628aaa3365f0120af8de97e74be031b87014972c12571ddb20df6bf6c96080d9fc3e698be5ed3c0444cc79c0ddbe901d9f46ddbf18efa9fefd77f0d914e3777d3f6c7e3120ea5b53c7c29b65a7e1a0b15a30a1c93996c35e9adfe9794a07727f687a37fc679fd7c5db4205a4c5c4d5102a19dd466ddd6df9a4858561e3c294b54340cbed47da0c3e115c78a39ac6ea7da9c962ca12f62add63a556a58a9063e3168bbb281e008567f1c3fc1214896818543d246e32c7ed597312e66f35c1d453febd4724b8e3e39fce4f16d66658e17982301e45e9da03266c777a2a40ba963f7be0a42983f447564701aef8d4e890f1458ab0c961ade0097b95973d00d8e030f00130bee41bbc6d3f17a85236ceffe03dce8e6f384778a8a9ea5d11bfb230a569a0e9a4a484e70eead000881e1062d990905feb1b40d9c1994b12b0b80934fc0d0ab0237a8abbe355eff9f57d5f4f3abc45c51077492cbf0baebb7b3e1974ed406abec6c703b5fd74fc5333a70aecd3d474943aa2f3e1ca26ff1726cc3aa80d4f1701dbf7b5edef198657731d2c02638af9003a2c7e7e182325dc6821029de4cbc90be1c6ec2d74a5c333ea31878a5dda4de03f05a6c2c2c24829440a7d1a02d36caadeee83d72767c70794e29831608d1aee1abe113e0a5434c56964a7b354b8cd4ad1782dbef4cf1b0e26bb246944f8e6c2e41b0c0b89e5b21064f58acf0f28779efd130c4eef43206a197b05136e24e49a9db3950f5cfdcda471307393b7682c70a16d583a08e7cf128e2c4185108c92518acf9be74cf74f04d47b8d86b886e65da6f56be270789412568983089c66c85b4fed2770f1080d19cfadbb8b6a352aa098fb019adf05c9bd11505a283515378b3c605405e23ff29d0ff798807a4aa917ad1f1108b85abcb263e821638485f2f3bdd87fa0f76034583882c23eac802915f3e194dc7771dca4bd1839e7dc8f48c4ec240801bd5422aca6a2b125f716395a3b859457a1256d39d8d20ff1e2aa859463367a52de9ca7cdbb79c282c2df54f1b9eef12ea60ace7837b28dd87d94fec9f</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>LLM</category>
      
      <category>Agents</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Agents</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《Paper Reading》Igniting Language Intelligence-The Hitchhiker’s Guide From Chain-of-Thought Reasoning to Language Agents</title>
    <link href="/2023/11/27/paper-from-cot-to-agent/"/>
    <url>/2023/11/27/paper-from-cot-to-agent/</url>
    
    <content type="html"><![CDATA[<h2 id="what-cot">What CoT？</h2><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20231127094454731.png" alt="image-20231127094454731" style="zoom:50%;" /></p><p><strong>指令（Instruction）</strong>：告知大模型的输出格式</p><p><strong>逻辑依据（Rationale）</strong>：CoT的中间推理过程，可以包含问题的解决方案、中间推理步骤以及与问题相关的任何外部知识</p><p><strong>示例（Exemplars）</strong>：few shot（若无则为zeroshot，加一个<strong>Let's think step by step</strong>）</p><h2 id="when-why-cot">When &amp; Why CoT？</h2><blockquote><p>已被验证的一些经验</p></blockquote><p>适用场景：</p><ul><li><p>LLM</p></li><li><p>complex inference任务</p></li><li><p>参数量增加无法带来提升</p></li></ul><p>不适用的场景：</p><ul><li>simple任务</li><li>LLM参数量太小</li></ul><p>性能影响因素</p><ul><li>Exemplars之间的相关性</li><li>Exemplars和任务的相关性</li><li>Rationale和Exemplars的关系</li></ul><p><strong>CoT的作用，或许在于引导模型进行推理，不在于让模型拥有推理的能力</strong></p><h2 id="cot-progress">CoT Progress？</h2><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20231127101621071.png" alt="image-20231127101621071" style="zoom:50%;" /></p><h3 id="prompt">Prompt</h3><h4 id="instruction-generation">instruction generation</h4><p>手动指令生成：</p><ul><li>“Let's think step by step”</li><li>Plan-and-Solve ：任务分解为更小的任务</li></ul><p><strong>自动指令生成</strong></p><ul><li>APE</li><li>OPRO</li></ul><p><strong>APE 与 OPRO的核心思想都在于设计了一套机制让大模型通过观察各个候选的 Prompt的实际任务中的表现，通过最大化表现得分来自动选择最优的Prompt</strong></p><h4 id="exemplars-generation">Exemplars generation</h4><p>手动示例生成</p><ul><li>Few-Shot-CoT</li></ul><p>自动示例生成</p><ul><li>Auto-CoT<ul><li><strong>问题聚类，对任务数据集进行聚类</strong></li><li>示例采样：从每个聚类中心中选择一个代表性问题使用 Zero-Shot-CoT生成思维链作为示例。</li></ul></li></ul><h3 id="inference">Inference</h3><h4 id="cot-structure">CoT structure</h4><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20231127103219365.png" alt="image-20231127103219365" style="zoom:50%;" /></p><p><strong>PoT</strong>：让大模型生成出编程语言在解释器运行</p><p><strong>Tab-CoT</strong>：迫使大模型在每一步的推理中记录一个“∣步数∣子问题∣过程∣结果∣”的推理表格，并让大模型在推理时从生成的表格中提取答案</p><p><strong>ToT</strong>：链式结构扩展为树形结构。ToT让大模型在解决子问题时生成多个不同的答案选择，可以回溯</p><p><strong>GoT</strong>：核心在于一个“控制器”，控制器处理对图的操作（GoO）以及图状态推理（GRS），其中GoO用于将一个给定的任务进行图分解，将一个任务分解为相互连接的节点-边关系，而GRS 则负责维护大模型在 GoO生成的图上的推理过程，记录当前步的状态，决策历史等等信息</p><h4 id="reasoning-aggregation">Reasoning Aggregation</h4><p><strong>Self-consistencyCoT</strong>：多次采样，通过投票等方法找到最优的答案</p><h4 id="cot-verification">CoT Verification</h4><p><strong>Self-verification</strong>:在前向后向的反复问答中让大模型可以验证自己的回答，“后向”即使用CoT的结论作为条件来构建一个新的样本，并要求LLM重新预测被掩盖的原始条件</p><figure><imgsrc="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20231127104828389.png"alt="Self-verification" /><figcaption aria-hidden="true">Self-verification</figcaption></figure><p><strong>CRITIC：</strong>使得大模型可以交互式的引入外部工具来验证与修改自己的答案输出，经过大模型输出，外部工具验证，验证结果反馈，反馈修改<strong>四个循环</strong>的步骤加强CoT 输出的可靠性。</p><p><strong>AuRoRA：</strong>任务自适应与流程自动化，AuRoRA从多个来源提取相关知识，将不同来源的知识进行组合、检查与提炼来修改初始CoT，以提高CoT 的准确性与逻辑性。</p><h2 id="cot-and-ai-agent">CoT and AI Agent</h2><figure><imgsrc="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20231127105438442.png"alt="general agents framework" /><figcaption aria-hidden="true">general agents framework</figcaption></figure><p><strong>AI agents</strong>依赖的3的方面能力：<strong>“感知”，“记忆”与“推理”</strong></p><h3 id="感知cot">感知CoT</h3><p>即从多种来源（环境、人类），多种模态的信息，如何进行“理解”，进行<strong>意图识别</strong>，最终生成CoT指令</p><p>多模态信息，需要LLM是一个多模态底座，或者有其他模态处理的信息，最后对齐在某个模态下</p><h3 id="记忆cot">记忆CoT</h3><h4 id="短期记忆">短期记忆</h4><ul><li><p>任务强相关的</p></li><li><p>直接维护的上下文global信息</p></li><li><p>可以针对性提高LLM的long context能力</p></li></ul><h4 id="长期记忆">长期记忆</h4><ul><li>世界相关的，或者和用户相关（个性化）</li><li>存在模型的可训练参数里（参数化）</li><li>或者存在外部矢量数据库（非参数化）</li></ul><h4 id="记忆信息的操作">记忆信息的操作</h4><p>对记忆进行索引和crud，需要比较好的结构存储</p><p>（1）记忆树</p><ul><li>节点离根的位置越近，记忆的抽象程度较高</li></ul><p>（2）矢量数据库</p><h3 id="推理cot">推理CoT</h3><p><strong>CoT主要的功能在于将计划、行动与观察相互结合，弥合推理与行动之间的差距</strong></p><ul><li>引导输出action</li><li>观察中整合历史action</li><li>观察中整合未来行动计划</li></ul><p><strong>refer: <ahref="https://arxiv.org/pdf/2308.03688.pdf">AgentBench</a></strong></p><h2 id="insights">Insights</h2><ol type="1"><li><strong>在未知领域中的泛化能力</strong>：尽管 AI Agent的出现本身就拓展了大模型解决更加复杂未知领域问题的能力，但是由于缺乏与现实世界真正“具身”的交互，因此一个可以做到浏览网页的Agent是否通过同一套框架与工程手段就可以做到操控无人机编组，这一问题仍然悬而未决；</li><li><strong>Agent 的过度交互问题</strong>：为了完成任务，Agent需要与环境进行大量复杂多步的交互，而一些研究也表明 Agent很有可能会陷入到不断交互的循环陷井之中，在交互循环中无意义的空转，并且，由于Agent解决问题缺乏“效率”，因此由此生出的日志的存储与信息检索也将成为新的问题；</li><li><strong>个性化Agent</strong>：人手一个的私人智能助理是一个美好的畅想但是一个真正的个性化Agent 的实现还面临许多问题，目前个性化 Agent的研究有三条技术进路，分别是从定制化的 Prompt出发，从微调出发以及从模型编辑出发，但是这些进路都有各自的问题，并且当下研究都主要聚焦于特定的问题背景，目前还不存在一套完整统一的解决方案；</li><li><strong>多智能体社会</strong>：如何扩大大模型 Agent的数量，以组成一个多智能体的社会用于观察“社会行为的涌现”也是一个非常有意思的方向，但是多智能体的计算开销是阻碍这一领域发展的关键问题；</li><li><strong>Agent 安全问题</strong>：当 Agent逐步进入人们的日常生活，Agent 与 CoT的安全性问题就必须得提上日程，譬如老生常谈得隐私泄露、权限滥用、有毒信息等等问题，此外，当Agent应用于现实世界后，此外，由于缺少现实世界真正多模态的反馈，譬如人类智能可以感受到“痛”，而AI Agent不会有这方面的信息输入，因此如何对完全不同质的两类主体进行“对齐”也将是关键问题；</li><li><strong>Agent 的评价</strong>：如何客观的评估一个 Agent 的能力也将是AI Agent 发展带给我们的新问题，想想几年前 NLP时代的数据集刷榜的评估方式，这种传统评价方式必然不适用于一个不断与外部环境打交道的Agent。此外，一个做对了 99步但生成答案错误的智能体可以本身能力要优于一个做错了 99步但生成答案正确的智能体，因此 Agent评价也呼唤除了评估执行任务的成功率以外的新指标、新方法。</li></ol><p>7、<strong>记忆问题：</strong>在LLMcontext受限的情况下，设计什么样的上下文，维护什么样的信息？</p><h2 id="reference">Reference</h2><p>[1] Zhang Z, Yao Y, Zhang A, et al. Igniting Language Intelligence:The Hitchhiker's Guide From Chain-of-Thought Reasoning to LanguageAgents[J]. arXiv preprint arXiv:2311.11797, 2023.</p><p>[2] https://zhuanlan.zhihu.com/p/668914454</p>]]></content>
    
    
    <categories>
      
      <category>LLM</category>
      
      <category>Agents</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CoT</tag>
      
      <tag>Agents</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>人工智能中的数学</title>
    <link href="/2023/11/21/math2ai/"/>
    <url>/2023/11/21/math2ai/</url>
    
    <content type="html"><![CDATA[<h2 id="资源">资源</h2><p>https://zhuanlan.zhihu.com/p/337020614</p>]]></content>
    
    
    <categories>
      
      <category>AI</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>《Paper Reading》ToolDec:SYNTAX ERROR-FREE AND GENERALIZABLE TOOL USE FOR LLMS VIA FINITE-STATE DECODING</title>
    <link href="/2023/10/13/paper-ToolDec/"/>
    <url>/2023/10/13/paper-ToolDec/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="81bc7cc7a3026823d498ff080cf8c3d9cd539f678ffcc9b1831e5731c13fba57">8d8288463184cbc6310d2068d8771019181f148b225656057eac4e1e371446f79825fa00c544a90113382d972b58cb48d76a33f8a45504196b3e6633f13437617259628d8058feb1de98eed9dcbf899571c062bb22c3f96eb126b83f0b9f2a7d85c3e56257e85a15684e119802957d046fd19f23f8dca7dcc00a39b4ded44bb7b2666b8a34cdb262446cc5dbd552c530304e3a7e3a0d7ff08a6e48d6fc46d04a0f15624144cc411bd13a682bf4aea36dbb6d5b220831b80d2ce402dc6a2d954a026b1ae21e86ebb4a51a819bbcf29793c3011222fa027e3d8a65a04c3bbccba9a2c40dba160c76a5488cc9629d3e27ff3ced2a957b625ccfa19afcb5aa4383f70f4e259e4c09078435918195d489df6d648e3f70c1b5f0923e8ae0c423607baaa9362b531153439885ee09ea4a83a69d38ca78e833deeaa723fa757b0509863cf89f98d44b1eb794b45e12b6fdcdd498538802ed29ac6366106427900a5b8453f70d07cba9b58bc569b0e6a09b8d076ff24f1623c7e1697ca4f7d590b42022703cc66646c836f4e9d1372ac3ae707c8bdd552538eb388888a2ff0d75df044ab1450f9e3c348e9c85f571c5282637f3710e192e6ead0578e94c763db86cd0d0f7ac42a759c31f6cb98593013878d918b5f107ea8fd6eb3428e1dfc2a876094314da342e8179ee190804fd784cbeac8733ff883f7f6c25f32472443f0e637e589de58ebf5b40b89e15296e22e7afba3f00e3a9e2ef3c67b7d4a3664bff43228b2bd3b729f1d43df426eb1392d86310f2c67c95272640d3471fb065b695de797b3606dbe2ada188d21611b891cb11df741ac47e4f249acc8757f8dade82a88034ea294844f4470b157d0fa3e6f6b6a6954281899d95a4e2450b6f880a0d5e772566445bbea6b494a921acdda7fd21ea0397a116900ee841ae70cc237a86905dd2b3b4a963faaae4f49ac09f50499b386ab61666292795cd1a84fc4b694858a7d878c2660c356f0fa1b7596bf1280f6363f822ce3da423d80f2521fe3b871b4839503550c5ef49525b8b6d898c4333bc75f57176d25369d310cc8013bb6ba9d3dd407911e25a1f5994d98807ab8f0fbce9fabef6676b76b29b1fde16f4d27c9cd95fcf844e30a959fd91dfec0ef3926845f6921b734a2e88e04856c105a0f2d9712fa356ac1095d073ee1ba49945b29044d309944cb8a4d8f9b6e406e2a4b362155f2971e57b8de76fe8b61e14be117f3bb7f4b9bc4cf5fe92fb6740e572e244da628f8d24d5e139268585e48a850c5005a359b8a6204ab061df77c0968fd8868454441c8678077b7dc6264328a2bd1a6a8388a2aec4713feba6f9d2e436b42460649d004862c99d0d31fab56eb03f0d7c176438b22c2474ad50677ebf4dd58d22478194fc9948699750b58a4d398f5eac398b85234df97b4ed4d3a08492dc750adeba20b00f2f174078478f5a499df3047b05fa6e0bbb2b4642feea897d9627b5cbbbf3234305f455cdd6a65a8c916acac0727496c705ea05ced8df8b1e1f29a07d20433622abd354604a12dad9e2a35fd9bf7e66c16d5b45c80813dc6d1608fa516be9da58f4a852d7cd4152e98f28c1de3f809a8cfeffc383ef14f4907ff24c6153a165fe98c04b693f8dc22e1df526e5c0ddd0865bb93108bf12a3ccda09302f95db930a99c0aab2405be605fa590838bd10ae4c99942f0253f472f60fb0eb163e693d9300d2eee0a576c49d2f63801a039a27196881890cdabbe1cec746b7fe0d7f6cd809756642a102954d2c6aa17c0559b4f9e7f517238ad0634c8d0cb939cde7a6f74923e5347835ff30f3a8cf746dbf81bbb5e6486146d1214192055bb784e65f44302695f3933eb01d2db33a286a1d47a6ce57359bd844152e86753f02efc52a507029e40e641411f9fed488416d742f22682794a8d47e04e9d10553d67c6acf464c46b8669a539a4975905acbd7ebc127d2f85b97492993278deeebeab84f212dec2570d4bf7e036e6dcd4675efd15e1e2526537b1ebba33c3deb85cbbc826ca90f1a6255b3bbeb5052ab2d5cd19041c20f94c62d2011e2ccdd4805bc97822d2ba7e7f0d6b4c0d25f255e48d041b332ae75b68e7b2b4d4e64af1e9b4fcc2d6d0f8c87c7c6c839b67928be244644d7d4830706ea2830e10dd4d7c7a33378553ac71c2913640f89f113e55884c7687735f4baf58ab54cc3b58e583027c2666b57ade38919e90bbe810cbbedc90a1a09c83767c7ef37fa8d96b55f8201fad6893174aec04cada77b593267e860505404bbb13ed042587533cf6417882de7e77a3c1f3d05630c9b19f3c5ad55bdec23ff42620a3ce24ff69ec2b3debe2e64a4d5dc71bf813a9ca2cac77b9449b56b3133c0a0def05456b86ef049c368ebea7c39dbbef11e93fd2eba6c36d53388cbe7571c97da4a7099ed9dd6b670f59102e7fecda892c86c251d2d919c6d78533da40ead1b7d83f09d036d08f9a91c7f6a4d9bf082578bcd6741b3e3968b77dafb4cfb51f49081324489f0e4923d5d7998be5311fdf65a53e6af82052c5ae84dbb10eb6de36a9994cf8d7b8b0a11d9849105d12675b1a19549a5bace74ea05c82aee8bc2480904300357d5195419279a0be3c1b830d933a8ebe5ba711ad83d6af5fc708f52b357470d5372525883f4ab62d7655adb5e4d55f2777e0288abac6cd2377a559cb21c016d7acb916195eff6b40786ace54eeef97a529b14fefac91d8a0db85e0e34415a83428a6a7c26c40c468370a189c1d1566fbb2251713c42d0d0f076c1ff50cfc7286099eb345716ec1669bd3b9e8589f886e5276d3e3fefc687a537e98ea016f97a25422b852f8ef3aaf7fe59417baf7fd4518c33a562d6afba91bfd39817f0e803fd59d931a469e523e9661709ff43369e6ad58f64bdf8032e2b756de3a8f1b209887cc470376eefd4cab230cedd1a41c75e833ef57aa753a49d9bb0204aff956c3f1d9e532f1306acba68c438037da086461db9a4152ca4fd30c58fafb755ad002c019948b5a97c5b019e11b953b8e992c36d0b923c1c3d292655f9bd443debb007ae9c67b28bdd9b9f23fb30cee0d11c37f5792cbeb534cf7f36d32e217172791d454d356ea938c393d63c43770940bef11db5327f581d8b6af6f1b35467840ee1f237f3f76dc8dc7736fa3ad6bb59422f5ae87fb1c8318ce59ab296b2177154f6f4cdf977aa154f019bec93335475b30705c6e4e0839930b044ba241fe9fdd625eb79f19a360af718643085a756352e9a475556ff6340428a546d6ad15edce5e60331c74aeb70443475f83646b132b825dc2196c994ed6087c77a2779193e66b3edecc4509305d57f8359aec94bfca3629c38329da427ca1cffc560937a2599486244257b4aea74e3e18c614bf429d117d45bfd33e71e19330939e56e7a3a7043e90368a8326bf4d66691c7c766cb41142ac5b2fac86dc7043aba004aef5f1b2bb9419389d3be140d88363031a5bc708fc27b2cffb5f2aa861fe4838a99454c469366ae7b8624aa72ec39a9338411f580f131b7f43e7c99614f8ead3272234ec3bea67795816b280c8577b96ac9661a24188d818b1f2aa8a91a4b6406086d8064dc5974d52d8d3591358f03770f715a936ce2eed2ae604cadd1ae45d64099b580415811cdbb067b1db28cb9848f312ca7c352d95b337719eabe5a5580ad559b51a8a5ce3cb58444f4b5fc5d4cf1ec3a39cc13546c3e6003a2e6c47d0ea42b4b496fd297a64cdc164ef3700b7fc30b981166668a36a597228019131d1e700cd30f5e17fee3871d0bd5bde229428139386bf55534ae461660fd07d0e8dca68c79b22b68cea3d0d360d753790dd7ee08536342f0b34d2deb74a5a1ea2749987f9aed8a0fc058eec9890aaa17b54578e928b2b14566c5c5eb2da21641d8226909f35c42831011a96fef0d71c6f68ea9a942e168e1104fff8e0084d653ad7f14e73cf2322aae1ac6c45f612ec70cf55004d8647dbf217059159f810ad5f5566ed1bdb5be78b828fbd2a4b0c1fd22b06d737f74a5143adf9e4dabaa1ad279da3ac56fcdbca65ac9c1b57f18f6077617bb8ccbc6f28b4eb9e4ef37c73d5fabc1cc8f5c7156964c8e853dbc154d5bc87b74b2280a8e366753c5fe94ed8394d213c239b3cfab784babe10d45e5b30b178dc7b95388ff3a07b20d4cedc42fbdbf01bb3b0b940bb0b2b8f01bd29a06880024cf4313e7a83cd98a3073c0d93307c31e01b4c2f19b10341e3f0b05a8f0cc48e4f757eef25f18d6bcacaf129f48628763788000985b988cd814c7e86cfc0833fcdfe9b725498cdadaeddcd2b03dfbac6f0609564e93ddf1cfcf7282c3ffbf8cec029dd2d06d8bf3e601389a0cd1dd407de4fda4cae476a2abda3c699b0d77969a14479fbe2960883e6a9c811beb94e2d3505b66979a72ca9fce4b12571aec9b348f9debd53b0aec10e6238d1ffefaa461d106dc37da980463b333c133e63677057ecf4bb8a109bb090ea9140904acf0f91c977fa95ef24b72f6481d57d6048f70e7cdcaa4e47183100ae1835684a3b5ea9965610a6b4660ac0d5da88c262d5651cbe7c0bd1fb5946de9cdc349bbe2a804586ee0f239343cd6ef8d7de76822c65e622ff815614f626167d95e1a3f07f7d2d1211d266d44e98d354d80146b4fe94b626897b4f8f2e69d3035ca768e2720c7075123c55c0ef049777a95f4290a2831781da379d55fc4afa874461046984f4c2da8e9279ed19fca7c3bc5fec0b1f0be97f637e76856ff1ae0f1a02ac9f5c48675569295a59947704b8b59d6501221474ab9960d43372f1604efa752659d594eacb014d8fd111fa8f33780e137405b9a65a4cabb41318c70fd646df67a0029561a6df2cd7d7f53640810b44be50603f9bb6c5dfe65d0fb8b4fc1925bda0ad34a6d74f708069eb56ad6f8dc8b8c5dc94c244e32d6a73dcaaf24d8229f1d0b11ee5fbb14167c32bd5e8a65d0d0bb4a4f93aa8730239f1230ecd1c82f6bbaa9dda4cd0829f75ea52c4890323b65c2a55208e9b9a98dbb7c620f0467c431af2209e84f3e2e64e15c7c4110a195b0a7c75c39d0dd35e3232fae7672825f179daa300d1383acd7d282232d975f4ee571aebb4f9ccff505b76d9506063a5aa3c0f3a9dd1a228bf741ab5c9d0193e86ae77cd2368de496ab35af7f55694f9309244ed689988a38057355545b2a057835e31c87a90574a1c878029475966c97cc3036c55e7a4ab128af05fe6773a11ee9992cec7978f997a57499c72b32e936381b9882255e0dd073e598d0f720e104e6538c829830bec9ecddb83ab0a9540682eba9ded90bdf56c15c043a18df0ca12c55284fce740844a2bce2b9acee5e02b335fb6c599a64830c32329fa3eb4fff0be8c9877bbf86d225fee94e0ae461b78f6912844718e679666583a23de9425e81d577ed0fa07aff967d4fa478831ae887d9a58534bd2b470fa04a1b814461777b3c87c61acdf247157144dc7c9478aae2911424f5456ae4c2ed641a30886a649515a35593d5b48b71b3cd83c7d5833a0e3de3ec9a460aeae38cd69a3430301907ec6e436e0ff20896d259b13646505ec97699bc3619f5c0b40be161cda302014d73bdb115f6a929b8c93748d72abafd88141b125bf986a1121a82c583233fff0ca60ad7cbe8da8a039e0ff3bff9e90398785ecde728ba030fe7c75f7e91142add94e29de92339bdb3302cd514bab0408238f3eb301107f38cab6ddf276563c6b5f8b03e6be05f377a480ad2a8308aaf</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>LLM</category>
      
      <category>guided generation</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ToolDec</tag>
      
      <tag>FSM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《Paper Reading》Efficient Guided Generation for Large Language Models</title>
    <link href="/2023/10/13/paper-outlines/"/>
    <url>/2023/10/13/paper-outlines/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="760cec00246c777ca4f579f214b5cb6cf0591b2df464faf97706a09b84b7ccc5">bc7d6dd9d49f533885c5a447c89777c458a2a733dab746b09e91b87cf3f80baa6e6df434fd4bdbddb847df5b834ccc5862f876da6c19ff40a92988ecb9bf8dc959c44a6bcab8cb681064d3ea97cb2172ea955e8987ed2802887cf174f0334ad468b5709b56c5eac5a69febc9f360d9c5e5a47fd4cac62bcce4e3039edb439748e2e425f0cc1dcce2cf822627220b4b41524bb8df83cf14e14f36aa3212b1a2215617c5124c09491d93bfb248d702630cdc117a108b30fe2989d350d657cd07a6cfd585c192aa06b660b9c312eb539e1514a5d0f3ab360affe2226b066c7d6d0c3ee2b0a46abed43c90914b9dbc60e8c1280e6cfd2e7402da11bafd90f4a0f2170479bacb617b601a98167975afb979132d0e905a5d86436fedb2142788649c4afb4752c33dabb31dedfa7d430618af1ee631c0f4f35f22bbd72d528805e75fc7503850977e9e0a8a5a5e7505a12ecc12b1335bf31e62c09d8c26eb525c09fffb86810c1a12763cc5b2982fac228ea2883cdd827c686056435eeed4f9841beb4e8e96118f49870e6ddffeebb6ca473a8f313797f7fb89859bf80b8fb5b3aa100c51355710a40fde829adf4ede58e9ec8093b96256c2799922e5c7687095646ba3ffb7dd9b19d34d458654b1e5e8ae8ee51a5dc218adf3947e16d27fd39a323998d6aaa379ec8ca862b99592e251ab091917185f510c62828316f81872e7ed6cf3b71c541e5dc8af65e68a08ffe958553ffc41cba88b4556ee9672a1f4c50b225433a20aa00c51bf5f5caff60af128fef82423fa67140d777e4e4e1873957f6793e84e87aef49dedcad74da152b9b2cb58d3b5e945dd4bf51c5462f5b16765dea52e29ed42deac961dcb7af0a012d2d556cb00977068c36c22cd7dcdb8cb296033b8d32417f766fa805c1b0f57a6c71b5b0e6bbec7cf6e3ac2aca73f72ab30a69987d4b5eb109683176e2af7db5f7f66121729e86b095b635c074325263feaae5720a73614248a0243dd69440316e0dfa202fa01e68fc34c8795f99d533bcfba4142211244ca3c797a9f3d462fd818449975a5236b45463455526714873bcb553161a3b0743a8be594360e3eaf94ed00ceaaf950a425c8d37622705449f4493f3645b60e64220d801e7043e929c58fc60ab5f2a7624364c497b1a4714c69d56474cc1c4a809707ee814ec77c4e46347bcff7b89873d82d57fae88f6d9ac9f6e662d36ee87db07483e2d5c8809ebe833db857d495391e603cbe248cc0f65ee1172d54a3bd86669bfe3d826c0975091130ddb88a2b334a9da00464eadadca5e6971b0be81701f7c53c901bea37a8b9272ef1072bd9adba2fc56f7d27e1d7bac9df866a61c6a0dc7bec9933cb50ca4cbcfa43c2367395cf849814baa89fb410571d4661f70878f09455f9fb127df055d945a3c2df381f903c89839cd304e5f9948a8574aae4639fdaa78af68d6dc388b0050af2221a1f75c7fc85aebe9d5cc5c3c13ee7640c433115de3693bf9803280eb0359381eff771353015955ab488d93b8e170f9498279a3d32de602e3e1423b3154ca5bd5ff565adc0cf543c5012325741e6135c817fb3ef75f103c016413132ab6e19a84122c7caf31886bf4a7d7567531b732720fd22b8089295a62e7d0243e906fc3503fbe126b8218f9f03b2ab4a85e7ace371f7333c23247976ab880d5729f80bf2fd5aa4719f4c731ede0aeaa70d7b1edb7fef949dc97062facb659d2a6d33ff1019fd6d376d6271488efc46a2c9f8450cc62c769acbd3eed67a2aaf39a09ab92b55f35a490ffec33e1906737cadfde5d6f4ba149efcc02d765bcbc7a6bd763b8f567a3181193c3ac322d5c6bffe558eeed4bb6f58bdac5bbea6f739c8080ad14a9696aee04f0bf4b1a264d2a9080ee382bd86f0ddf7e3e4432105bff614c27cda226d1a7edc8c67685ba32d96ee9022aa93188a2d285e0075e3d11447ff885c7f0f0d5aa41c19809c17ed58d1156fb652edcae07c727c78f401d8f924219739943183bbd16ac9b49205514204417d27360f9d3eb73da6344f7ad1212ca2825ffa99b0150e40e1d32c9b7bf04c899f88e7956a229ad94715a1d3125288eb72e9318665b6b52926478f43a4c39b4579262749494118fe6c132607eddd1acf6beac85e365ca067eae21e99ff9418889b0f385980faa7cfe4f3f72684e520e5074a378c0b5a2eb96201ed0d9ed917f8db589ef8a74d07274c6b5888b110f0e216e88f91397fc1457da03f16b52d2f251196e057642631af9613efee25661afb02fc1a7ee9879ad2aeb934083aeac3347db7e821239730fe184f3df27c86acff74ff93808efa0a01c21e70ae602c7efa08dfc4b080fe9ad9718577cb19159bc616c4bbe311db7fa1b848375984b4f950dec27331e4ae6188c0379d0e26bc542f1f3b2c47e36efc9789fd06d823c0a5e4c9c1c7a4e785292149effded8af494af29a1044ddfd78c2d9db645aa15bb2e9c48d8c5fc2b3c5e500743569d67e4b955ba08cfd1931009e527a8b31cbd9c83328e5ca16ed3a1c2d38c027a96c25436c838bb96d0653d200c11bd2a041c4eac22c7306eb2c54bd42d4f695b0e5a247c972e25daed9dd38064bd9ac4a300aca776dffb66118f03322977b94592d471301a24a960def2630e77773caec1c2c312fcd62ecf34aee89b07b5354380f31b4910de6e782f704445529ec4d644eefc2de7a9ddfdc171739353dca3c925161fa8d21f9b69b12b915bbd11f6d80b865e1a8a746a461cc4036accd62e276183d00d597f9251934c0d1be5519b314657f89294dd7c85248fe7c449c076393680de78e94bf636227644b751b28afd24331257700c136a9873f6f0fefd57f1a97db580baf4030f5504d41b9ed90cdf6f46b0b0347810b91667139773436b907d3cef530de1bfdbd5eb17928523a6af2152133b15edc0887c4f24987732aa872f46a660c9bab66b8201a2f0a37d29bec61f81b0f0d8c19a79007d0cfe69c9171fb31951585b9367486046501c00ebf873f8a957b74021834a6580dd202ae07dcf0a67e6f68dd2f188d6bb570e8a3053b90419369541a89c9bc66d56d6d68e4a0b814bb07ad2b3941050caea1436e5390c0f64128b1c515445ac923ca59203db14ee9258b7cba84ae78afab9dc60f304707237c63cdba28c621a54f2732a4f655e51e403985b546693bc34a16e31d881a7bc2030c132b653d52615803de3b340a2d1fffec2d439a510cfc07a21e725e93516584568c90528e16bc9337c1b7efc7a3f2de23c7b8aa15e9a94294ea3eadcb9eeeaab62df64432b3bcaf8f075f9749a4cdf81a4c113d9b5ec83b86751224f87d48c6c1fb7c9716d5b39893bf0ae2caf1d5b26dfbc325c48825ef94410d85bfc9413afb12e9e44c2f91ba8cb715c96b1e38349981fb5d7e4114298c25648e84047489cbb6dde010ae1306e321c2677ca423c64bc01c7bfdc2ef059c70b61bfb8c5393a464c33e486f2e6f7a98a1558e9f141f5053e8f13aa9dd79554b54bee46ea3b0d8914ccbff8938f4f210868dcc47becbf4d1fd9890fecd8aaf107a5998821e8ac9694dce1451343cabb6897c52dcf235e01e2669a4c4164d6c3afcfdd264dea7315df13dda6be0835de1ba858579e953058650cb5556bea2a770d41c323106e6856c0a854c5aa572e112cbcaf5401ed4797ac4166f8b70e7b6aa64125dbc99a052455e2d0cbd77e00a30c9454b9278e3951b323a7bb2e59cb1471f38c565c5c818991051b1d8c277bb255c41425a3fe05e11a6c547cced163cf0a2031db4e2a536fa5d1d86665b2042ea4d01066c131fee7b9b64b18f11bf9d2e46feebbaf85ed19e08cac08be6b82c78038363d8dc3f1012c874e71362ca7171b3f9a1ea40c9d2bbe44da034863516ee0b2d61883806fee3689df34f3a18bea309668ede156754f24cc21c8cb1f612464c47190aefa310ddd241de3872749eca45ffab3644dc6e7846b7c5fd63f2f086634ba127c8eb5b6a371b649f896483efb31654d7035add2af4f0ddda4a8423ce4c26aec1e95b185e6b1da7b670fd22523098a220b53edee831380b876bcefc9e7b36ff2c9523fb27e692b456287c4622129800a55f138b45c04e47051caa4362cac7d15005b75e3aec5a0439f535b10deac16b2e395d3698fe91aad414da7848c868bda41de4e69fdf76fc8d94192e186039f352d2dbc6a8bc93d659728eec8a2fd8626b8104d267766c518a9cc7bef715c7234b72e7f74b4cf8ef40d92f79a7e94eb042ea3675b8239b63ab95e184cd778fe6165345ba8f453b00cc8270153ad5374833b337e770889774083dee2a26ae0d3e7a53781030ab7c709336d74b0160103f155419a9485ddc9277dc9e74ffe26b884588306971cc6fb1617068b8469d7d6c58410ee8ac18af97b650d261092301d8aa5e7b12b48dd9069739fdfac394cecf4dd491abe7c92bdc37eb7349ace018d68b8f7eba184a4706807234792b7a720e60407b165ad935b99be9afa8685ca3d1307fc1c787b23b1b1d7e82794acfdd09ec4c448ee9b7a62284afd55a2d36361fd5c3ee0f5d3159de8d5f4424a227ddf18c591d0793449c9d05d1080c09d1dcdf06c8963f049bb5a4510758aa6d0a9554998efdf11ead10b43d78611739549161b91eb576d5abc75783212dd7b5759f7dfa6a4b754e1cddcf027df0524aec52338281bb3d75a93ffe003d8b57eda7ba55cd7350d1af7d8a6b633a22153033514896a412850cf889867af0dca11e0393af5948c9241850edef130f6b80cc08dd2d7b683d315346b91b80ef43594aa8b555cde248b8db5f17e3e2510b5cbf3a638e81c46b2ad93070a441ad293711563655da647d0eb0e18c05bca317c87c7edd0357d07fc8b0f0eba81581e950bea79144e931481d885467216caf0de6f73cd64f01302de0ca445115b88e85e93a48d5c30c724d4e4847487bb13a77e4262fcf933b2a35acbbcc41fd55f691a87de9a314060213da7be53b43ad4d3fbce72be02108a0b40d0fa17be020b587092e22bf1ec0bbf001107eb2778532bc3a84da1082d5aadef2188298d69bd77f202b7829db8328064f2d5aba426e625e7a3482891164574660d731703db78e35f5d07ef837d4a7cbb53f38bf8861d0c2f0d129737a9383106d1b5d8320af9af6c9b6c82420dfadd466c25aca4b78db0b4ef069f08fa55172964ccacc5529c58f42018b225b6f4c4f445dd92e2e0d2f0c4f733bd5bc5148269a0308df8bfac7bbb0bff6fd0ff37334c9a9aa361b633958d65da7e33fa9911b264321015969da493d76e24bdcc5ecd2150b0ff46a51f30d55c6fc2b21360c598e91199d0e794052001598decf6d595df3bc07790bb2a980dffe43b4b8240fe8e50e18e02fe77fab727280a60705bb70be5f8c75acf2ca902631501a8a81af74b5bf7006189943e5ca4cbff2c2fbf35138c7d10bb6748a3c5b6f4e09010bfe692a1cdce761b639f0a2fefab2539b814fef8a49454506cadc6879566fc6fe43a0d3fc0577d21aef8e102ce076a95bf9ca041840611727537e59c12d6ed2dbb83c206f0316fd5444e10b0e72b088ca6dbbdc003fa09d48cfaa66d76ef3be4da0e42a3c9654883b1b0b8a41d8cbd735775712a307800ec2734409e5c4a83071c31d6b5d2b5e4ce62c9418a4a31dedd5672407c481096d313847cb64150858001a4677c9b815fbfaf60f660b032b42657e47db47c4c1d40f49cb684c7106abe67447daf9c442aed3164f97b4b5dd19d88e368a2603ec448cbaf5dc2ce9af165fbd8d169c8a17ab1f61e0e2fd82517a6cfed2d83d10c6ed2eaa8c70b3af1442fba23222928925353bd5520a14a04f4e81bfbe749b477aada1d1ce0096641215459f7d3263b458202a1c22021b19cbee2433495f272670d096f2dcab50d3ad2d9c33ab3cae1ac011d7d48d60046a221a77bffff210ade10f8b53bbbc1b502ebd000f8d7187facee37780fe49ec385fbac189795939df9b0c38fd7b2e638ee41f126daea3c050b897b55ba4c20cc5e69ec7834a34b352560c401b695cea56873b5666c25344d714ce5bffb3601b4ccece31f3e4a2950731e96b8bb7d82cba5ef3bc600a5c2a6fa4b4c8d38700780be3a3af523a38f90ebff34695a44237863cdf40aa0e7507c40b4d9af88d28c99f505cd29457c5561cc7122c98f8d1b2dd6cb664ac2e345513fe95c3ed93aa28e94d1629d0e62432bc648f9c02c4e885bedd947749a9145c174f3ee439a7fe6a7adc44ed890ebe9d3f1ef362e80a06a220b58b7687f2d2569dd87fb433abeb2fd21a37f0008ba67cbbb2a80145e8f606e03ab7155a903b6d7d173c3b2146f997a23708c21533872c63713980a6a6a39f2bfe8c001103beaae63143266c079e5512cc8b30b5e31a8fc2e13ac1d85afbeefdf652db6f00c025794af20de168b5ec0eff864ea5f3cf46720e9fcbc77031610657083081aee4413d1e40bbc9f324a20e6316deab0fa116a92b67063e11dbabd69b94baa14d43698de19993c8540eba90324a8aa2b15b3f391e563f74b0b6aea7dc9af21399f0202934ca425ef7c2ba404e75c07d52a0e7b556dc56d03163aaa4ded9ea5b5e185195d3f2fcd8b872c8e8fd0c1053652eb6cfe98a6811269069d79585e9176699bc3678e4198c6f82f5eda512f3cb2b0ec540c9a9a76ba84051425aa8183a3eab466e1c4e4454cfa45fdd8e20d0bba088f2bd50709d2cb7fab795a3c20202cf6a10a9f33c648d06728863944a8dd215a016b07b4b16b5d50e7632872af3bb7b71d8b6af647e57ea6c3555aa877eb73b83c1e7b62426f09d72fafb8f0e9a26b6afeb7d6f3679df19c47259dda90975a22502c31feac5861e0ac9ea3fb2bcb48102e3c0ae0260bc7ae217cbf78a97f6e519018a6867b98bffa64921204539cc8a3fe7a8a5579d4b1e8ef7a5e22996aad4a9cd9b9ed2b7451998f4112635500254256746df4eb0a5560efd3188d8c9031ec6dfab3b8382b9623d68db8c02ebf5bb171bb48d4311f222e327e19411e68843801809cdb640b9f7c92493aa3af7886336099e42dcae0fb8b2fae5c4ec738dbb50efbf327cbdfd7941d2f32b3efeceb1f8ce061848cacda3e026869b469c4955aa29cf5f6192be4825b008df1f1459aec582a25eac8b15fe1325278edcaa30f35bcb0f6baf9b2bd9ab8905804de9dc756f82b5615ca80aa9978501a09938ba04677bdc1002f25e2634cd89d494752d31fd6ad4493f5ba1beb678897301b5264ed9d7d97969222044ed8e16dac6cacccb33246e444164604a283e5d9ff9dc7148f8ec89b4d5396d129fec2ca726b0e9bf56695230e70fb53b01404e487d90f46571fa81b28ccff25b17bb47df94f679d0d4cdf441582ad652611567143925daead08fbf297b90f69c6e9a3a0db7333448b1009e21d77c5e663c651542cce877db8d21f6242a82c78a15b46f81b21b19e3f1a958124a1ac25f596b3233dcccc2ceeae50e56f00e1640f074f80c7ebd2ec860bca011a6bcf66ce7d6da61e7337a1d4e39d982430dfc3ce3960217c01fa068ff52402b80d66bcad31d05b7501268c93db9ff582d5831ae8e7350e60075ba96e644dd46302e58721bec14356bc8d10d0a2c32d9db8b88f8d2b4ceb4c6deeef04a287a37b9d0249c30e5421f1480dc4fefe7f95267dd68b4f8edc2bc4547c9649ca08680596e14cd3e201db6750da452f18874712e38cc146c8b64870ba2f1d7fe1808d4b1891948447efba368e5f4deb199495f774112d25eb10bb091675c9b0deaa494443590298d77d4ae36cc4e99d7a43f909625f3969ced902d857e4826c0ee457e30667bfa143c5872af57fcb8a1dfe7b08ebead2bff184dbc30b12e61edf3857e2823e30534a20ab677818596a4ff899d672d5a03b631b1fa595a33719e9e0feb77de32dc3ba6a4bf9b34c5b4eb949385f390e0c5d9af836d42baeffa6dddbf69428f4235744297ebffee64e7db8029de76b9278567edf424449283dcdd12cc9bdbef5a5a6ef5ff089921b02fcc9e2cdb751f6841a8d6dfb694b1157f399fff025eec80cc0f309ebcd91bf66f2094525f9a229f93028f572012e0e755737c7b4ddabcf47df8a3704a28c4b3f1972ac15bcb55434ffd8cd3a61b09ea100714b4b2a9758bf823ff905d898e957883001b27f9cc3af6feac09b5161138fc7e0b796a27042e5889d47fd5206ece6bb2760920579bf0608866598b3f311bf053b5684dfe4379e9ef52ed89716a0aceb28a236f764c50f8fe2ee29c97170ddf37fc5d0167e045fbed5a068e00da3792d04728f513498918183518d615da73e55ace29fced57a58c6f2c63e75e206c7d15a48d573da5f2b65a289e2f9e6964cb0db096200298f956a671a6bd220c945b2eeccdcaeb09cd00ccc6a4cbc5f9ee65564f256b1f01e74e5001f5c79395bc584d19ca9e8e58a81298fba5a69c14db65698e522e89b1dcd5ab58a61f2b791e2ea2157958675c8a5a8c0664d95c1839abbcdd3d63f0432f05a556d7548fad44c0a6b5a185f44e19072181b28f45f5b9b01ca8904c5ceca04b2c95841166b6b11ea57137e7c2a69b283143e338b4a9523fd37b7b20a22ce5a2741532683bf8f0e4be476ca0895d6a7981adfcaa18e8de191313b511f825381c1288c04f5f5608fd4794435401c963699f818e93024682f0a43268e91330d206f29ea3da51f97a0c250411d9112e9c9f6cf52e84aef44a67c3fbeac5a6e40907875f8a738043d2486b7d6f6b55da1afc4fc2f282fa84c85c466da3fb4a0976aa056ce94ee12788dc8e426182545c12affa375ff685cb657b893e86ff640f7f6b861a43fb7dba0a0d92377fa43568360d21af86c2fa55176946f341754778470e116fe302e5b36a286b39f561c09d0f716e02361c2da2d4f15f220501b5e316c3a09b434a98936c23b6decd6256fdd383e785c1a126d6f465f13eb88bca46ed6f97ebe9d5e76db1db78706ffbe5d0d08ef4a09b7cedd34fb139ecd2fb17c0e76899d0a831d3ac69c2f6c836c0c18ca0cffd42fd7fc15a1b14a2e6ff86ebf1969919477adb8670cec20917b51f0b965e80ff221efe009a172491299004b1b661e6f5be47369c5fe9c1fc0be7d2b4fa5416161a57ba17576b524d7b99bbb42d1ae0fd6d40dfdb65fce58ce18f40a5a6a498efe2ce7ae3b6be55a6c16a67179bb2c450ff96901c73ea60a72640d4c480cd470e23517a5a773d61d5e134247c154498ee5ee56b0b61a660786da31f598b1b72382497301a1318ee348249e28151e33554b064bbb1820a6360f259da941f2c525d6e11c9902e60594313e645cc61a42b4ea962ad162c19d13951db723c2ab04c4348b95d13803439545306adef13a7b1a4c02d05ae5ecbd8b6ab94908bcd50352f8b23340f766d417b2a995ae0809e9345bfe037af3fd8907f083159e5d15d2e0c60f49dd4261b6ca2dfac87c0aa00475cc17941244fcbd8059e039fd6f7f1d8c6a3e6bc1aee491f5c99b952bf68f2fbbe363a2f5e99cd41c2551c3107b9b6451a935d7756f89e1f1d8a4992b701eff321cfd65c8375aabfdb578f3c827259a5d032e1606c1faf983170eda33e0f81f769407ee8d8673b4231090fa71de561f882c8689b4b1742a69f3134869f07dfcbd9162da9e6a2bbdfdad0e23e0eef1f4e5d61089e099e4090e8b4e40cedd2287d735192da0c52437f09d60bcb739fb92fcfca2e1355943ac92e49e11456d5e7cb5819256f514a74b8fcbf08ea686d6cf78c21cdd409aa91f0934633edbda2c042c208a93a1187fade7dbf227b20d7c383260e9ca66c1157ccd7d227ce87d741b6025c67303669c67f4ab1888907a60bc47ed58c4affbed33340e532b5ed5f5161167b0dc92f9d5e8f1b49f38eae6b35773e72a0c8b2156b6445ca8a4f3bca1df118d4d20016041f3b8569675db0eb6d619b9d140b3b69c20cd49d59776d2b0761dedc0afe74cccb4a6fc08d1b30ca9dc941fbb84fd7e305d3364f78c3e4e00398aa575e3d7b32ce982a0c72e6962bc8229325d2061f128670faae124895d5c8450267c42175873e72ea6d97b191f1fad205b2cecc52c1d6bdf11fcb66dd1d89d7f679c08340841459725d8b7db8436526e6e1885e93d9396a45a3ddd434e5c11629b4e73b4e30e30a714fc01e8488c9b53cbf0da286d15240457384803216c233831e3f7efa8f8c2fc5cf5350512d6465cadb3c0fffff378d960c06114193dcc9b5819202050463f760a2a372d64a937ee564fb11eee7213541c2bd3929a399c167065278332a11ac75967f5f84f37e6407ea9dde5961cc9354160110f8d14b1d240366ece9b655bc0edda44ce4e3dcd42d051bfadfea09a90df4da4db6a0fdd6afb2e5e86cf8a42ae3decdc66bc4a501ec914e14e57ba56959eae286d3588eaa3d033577704214378daa5e31762e49a108bd5e65cb7ca73cdf60a8e56de0070c0e6b1428874f162ec1f7e20240c142afab99409a7e14a79aef97ad402e194fca4e3bb946a5c831e1d2194c441802cb65fbab661ed4794a933f8a7fe4b7dfb57bc1f7a9fed8ba313f4fb5946f599f41f2fb1ee98828e7866d5f6a2a197ce74931bbb3996679acbc014c3feca926c4defacef6fc9e24b40473db021c04cc180307a15cb9a0d7b73311630f98b6896e69be636bd280e117125f5057138a8f3b7d624244258637a7ec89c9ff95e0eb01142c5716f2319589505bbc3afc068a6faf6976136cc5b88921c9ca596f6022ed6545704a95639bfa694602947b680b1ef79b14ae90c23eed0a892413ef490665b98ecc483b60ecea03b0e196ef2d5443616936e88d3105958c7382b33a43c6845b8f942359c95b74666bdb1a4570a0294b52de834c8a73679b8ed44e66a334461752cbf1ce9260d2086d7862689e712d7cb572caf5dd693d40774fde3207b095ea261b17792ccc7cd1c886bb3079e43c6884dc45c03fa0f445390efe060235184cee9412232272b44adcaeacd93e0c3eac117b2f372175ce38a8c7c497b585494b3fd4002f19d8927c39f35e78fbe8b86ba9afbd4c81caa846bbabcaf726c7988d3788c058186182d33f149e1fd32a18a95774097358ad637c6181037e5e97d191501d6ccffca7c29bf2d821302e7b138ae2ac4f23a94fe4b66efa979f6e9b630f30a95cda737ded09ddd15d2fab9e684c47ce90abf0f1fc04d7d45d0ce26280c09c9b0f4d413bf8c1213d3a8312beec03812e046fd9a1e00bfa1e71db2866316cbe8dc3c4dbedf963886a8e60f8a7f29e3a216e623780c4db6a43b4536c136cd8771800f768a8c48508982cfdc0299d984c92dd943baef3b17b30f0189fdfa356b7851888fdf89453af29ffbe974650a68a766a7d96323b0e9a8ad77f4ffebe73a3b698c858129464ef2ea33aba2448837628e6e38ede88e29ebe331b8a57bdbbbce7c97390b997e304c22ad6b972c3839ed7a32f7fb100f349e034a5cf1943f6f83b6721985a4a0b579fda86e0304b452fdbd230a31ca2d582879cefb5259390694bf11a3b9cb625ebc41f6bc21e8d07ded17ebba9246d0e23a10bde9f5faa0850f2fdff3a94940a4ecdb841bb6699889608e1762e5e5a0a88196b817715cea14bad7e957ca12831ded71c0cfb21ebe1177d133392c99e7f160523da70b63ec518ad1be49faef1a8bdb99285712863984153e45e1b146cf0e8a0b03782dec17b4fc5f6fb2638ed986c7346263d215a10da8cced2921c77036f74cca058c877222afd16c1c8f6237c562eccb450b2ec75ed7ce0a99c8fbfa5d94a7df49680a97b8c3e6e86ddee4075dad51120a16cc0e9c7351a1a25642e344f52c7eb5d2a7c3ebed8b24b14a09cd0ba197c828bebcc97492b5fcb7612414f078df964db96389d9641177bb69d111e00839f9770b1e7abd5208a32773c7f1c9ed3face62cdcba02058f88318a39de7b9124d99eb418a987dbb0639169981ee1932e59604fdffb90c824df8fa4bbd0a34108146eabd2389247415abcb646078ccd5af08a16ce8879a9e1f1a3503c16953abd38c7d5f7a433925bc25cd2751a1e089ff18fb0a9839f5c816b22fe341965ab58ffa05388688e979d912f0bd41bba3d166594d2ddf19d99d600373c3bc566c3bc4f2accb24639e6425d31727c10c013ec93d041d8f9dd4712ac6066a295c52231c6</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>LLM</category>
      
      <category>guided generation</category>
      
    </categories>
    
    
    <tags>
      
      <tag>FSM</tag>
      
      <tag>Outlines</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>操作系统安全基本知识</title>
    <link href="/2023/10/09/OS-Virtualization-Security-lesson5/"/>
    <url>/2023/10/09/OS-Virtualization-Security-lesson5/</url>
    
    <content type="html"><![CDATA[<h2 id="安全的重要性">安全的重要性</h2><h3 id="攻击类型">攻击类型</h3><blockquote><p>硬件、软件、通信、人</p></blockquote><ul><li>恶意代码(Malicious code)－木马，病毒，逻辑炸弹，蠕虫，天</li></ul><p>窗/后门, 隐蔽通道等. (参见教材P1-3)</p><ul><li>系统渗透(System penetration)－未授权访问系统资源</li><li>中间人(Man in the middle)-攻击者将自己置于用户和系统之间</li><li>拒绝服务(Denial of service)</li><li>使得一个可用服务变得不可用</li><li>网络嗅探(Network sniffing)-攻击者监听网络流量</li><li>信息泄露(TEMPEST)－从电磁辐射中抽取信息</li><li>社会工程(Social engineering)- 为了达到攻击目的而欺骗人</li></ul><h3 id="安全与可信">安全与可信</h3><h4 id="可信系统的建立">可信系统的建立</h4><ul><li>逐层做安全</li><li>不能在不安全的层上做安全应用</li><li>例子：老鼠吃点心例子，如何保护点心？<ul><li>用堵门堵口保护房子，保护的成本高和可信度不够</li><li>用金属盒保护点心，金属盒是一个可信的保护机制</li></ul></li></ul><h3 id="安全系统的定义">安全系统的定义</h3><blockquote><p>可以用状态机来验证</p></blockquote><ul><li><p>1）它是从一个授权状态（或安全状态）开始的</p></li><li><p>2）它不会进入一个未授权状态（或非安全状态）</p></li></ul><h3 id="可信系统vs安全系统">可信系统VS安全系统</h3><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20231009093638947.png" alt="camparison of secure and trusted" style="zoom:50%;" /></p><ul><li>安全是0和1，可信是有程度的被量化的</li><li>安全一般用特性来描述，可信是需要证明的</li></ul><h2 id="安全相关概念">安全相关概念</h2><h3 id="主客体">主客体</h3><p>主体：<strong>引起信息在客体之间的流动的实体</strong></p><p>客体：<strong>客体是一个被动的实体</strong></p><h3 id="访问控制">访问控制</h3><p>功能：系统允许或禁止对数据的访问或者一些操作的执行</p><p>包括：</p><ul><li>文件（增删改查）</li><li>程序</li><li>数据</li></ul><h4 id="访问控制矩阵">访问控制矩阵</h4><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20231016084318180.png" alt="image-20231016084318180" style="zoom:50%;" /></p><h3 id="安全三要素">安全三要素</h3><h4 id="安全策略">安全策略</h4><p>安全性的定义（what to do）</p><h4 id="安全机制">安全机制</h4><p>如何实现安全恶略（how to do）</p><h5 id="类型">类型</h5><ul><li><strong>prevention</strong></li><li><strong>detection</strong></li><li><strong>recovery</strong></li></ul><h5 id="引用监视器">引用监视器</h5><p>功能：<strong>an abstract</strong> machine that mediates all accessesto <strong>objects by subjects</strong></p><p><strong>components</strong>：</p><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20231016084903773.png" alt="image-20231016084903773" style="zoom:50%;" /></p><h4 id="安全保证">安全保证</h4><p>确保做法正确</p><h3 id="可信计算基trusted-computing-base-tcb">可信计算基（Trustedcomputing base, TCB）</h3><p>定义： <em>comprises all of the hardware and software that mustbe</em> <em>trusted to enforce the system securitypolicy</em>，TCB就是实现这个目的所有安全保护机制的集合</p><p>注意两个范围：</p><ul><li><p>安全周界：<strong>系统内部组件有两种：负责维护系统安全(或者安全相关)的部分和所有其他部分。这些安全相关的组件实现内部控制。用一种假想的边界分离两种类型的组件，该边界称为安全周界。</strong></p></li><li><p>系统边界：<strong>系统内部所有的东西由系统来保护，系统之外的东西不受其保护。</strong></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20231016085454631.png" alt="image-20231016085454631" style="zoom:50%;" /></p>]]></content>
    
    
    <categories>
      
      <category>PKU lessons</category>
      
      <category>PG-1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OS</tag>
      
      <tag>Virtualization</tag>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>docker入门</title>
    <link href="/2023/10/08/docker-intro/"/>
    <url>/2023/10/08/docker-intro/</url>
    
    <content type="html"><![CDATA[<h2 id="基本概念">基本概念</h2><p><strong>容器（container）</strong>：用沙盒把进程包装起来运行，和其他的进程独立运行</p><ul><li>是一个可运行的镜像实例</li><li>可部署在云端、虚拟机、本地</li><li>支持各种os</li><li>独立于其他的容器，共享同一个os</li><li>云原生的核心技术</li></ul><p><strong>镜像（image）</strong>：为容器运行提供独立的文件系统，包含容器运行所需的所有内容：依赖、配置、脚本、二进制文件等等</p><p><strong>云原生</strong>-<strong>从需求产生的技术</strong></p><blockquote><p>As defined by the Cloud Native Computing Foundation (CNCF), Cloudnative technologies empower organizations to build and run scalableapplications in public, private, and hybrid clouds. Features such ascontainers, service meshes, microservices, immutable infrastructure, anddeclarative application programming interfaces (APIs) best illustratethis approach.</p><p>These features enable loosely coupled systems that are resilient,manageable, and observable. They allow engineers to make high-impactchanges frequently and with minimal effort.</p></blockquote><ul><li>可扩展的资源分配，提高运行效率</li><li>不同服务之间的低耦合，提高部署和更新效率</li></ul><h2 id="基本原理">基本原理</h2><h3 id="docker整体结构">docker整体结构</h3><h3 id="文件系统">文件系统</h3><h3 id="multi-container">multi-container</h3><h4 id="通信机制">通信机制</h4><p>Netshoot 是一个 Docker容器，包含一套强大的网络故障排除工具。它的作用是帮助用户解决复杂的Docker 和 Kubernetes 网络问题，提供了必要的工具来进行故障排除。</p><p>在使用 netshoot之前，有一个重要的概念需要理解，那就是网络命名空间（NetworkNamespaces）。网络命名空间提供网络相关系统资源的隔离。Docker 和Kubernetes 使用网络命名空间为每个容器或者 Pod创建一个独立的网络环境。在容器或者 Pod的网络命名空间中，所有的接口、路由和 IP 地址都是完全隔离的。</p><p>Netshoot 允许用户在不同的网络命名空间之间切换，从而在其他容器或者 Pod中进行网络故障排除。这在跨多个容器或者 Pod进行网络故障排查时非常有用。此外，netshoot还可以利用主机的网络命名空间来对主机本身进行故障排除，而无需直接在主机上或者应用程序中安装任何新的软件包。</p><h2 id="常用">常用</h2><h3 id="build-and-run-an-image-as-a-container">Build and run an image asa container</h3><ul><li><p>get the app</p></li><li><p>write a <ahref="https://docs.docker.com/engine/reference/builder/">dockerfile</a></p><ul><li>docker参考dockerfile自动build镜像</li><li>实际上，dockerfile里是build时候需要调用的指令（脚本）</li></ul></li><li><p><code>docker build -t self-customized-image-name .</code>build并命名镜像</p></li><li><p><code>docker run -dp 127.0.0.1:3000:3000 self-customized-image-name</code></p><ul><li>-d detach 后台运行docker</li><li>-p 绑定端口，上面这个端口例子publishes the container's port 3000 to<code>127.0.0.1:3000</code> (<code>localhost:3000</code>) on thehost</li></ul></li><li><p><code>docker ps</code> 列出所有container（containerID...）</p></li><li><p><code>docker stop &lt;the-container-id&gt;</code>stop某个container</p></li><li><p><code>docker rm &lt;the-container-id&gt;</code>remove某个container，便可以在app更新以后重新build和run</p></li></ul><h3 id="share-images-using-docker-hub">Share images using DockerHub</h3><blockquote><p>https://docs.docker.com/get-started/04_sharing_app/</p></blockquote><h3 id="persist-db">Persist DB</h3><h4 id="volumes-mount">volumes mount</h4><blockquote><p>https://docs.docker.com/get-started/05_persisting_data/</p></blockquote><p>提供挂载信息，map the specific filesystem paths of the container backto the host machine，挂载的位置docker定</p><h4 id="bind-mount">bind mount</h4><blockquote><p>https://docs.docker.com/get-started/06_bind_mounts/</p></blockquote><p>直接共享文件夹，可以实时看到host的修改，share a directory from thehost's filesystem into the container</p><h3id="deploy-docker-applications-using-multiple-containers-with-a-database">DeployDocker applications using multiple containers with a database</h3><blockquote><p>https://docs.docker.com/get-started/07_multi_container/</p></blockquote><ul><li><p><code>docker network create todo-app</code></p><ul><li>创建网络，便于不同container的通信</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -d \<br>    --network todo-app --network-alias mysql \<br>    -v todo-mysql-data:/var/lib/mysql \<br>    -e MYSQL_ROOT_PASSWORD=secret \<br>    -e MYSQL_DATABASE=todos \<br>    mysql:8.0<br></code></pre></td></tr></table></figure><ul><li>启动mysql container并attach到之前的网络（<ahref="https://hub.docker.com/_/mysql/?_gl=1*yhqkw4*_ga*MjA2NzAxNDI1NS4xNjk2NzQ0NTkx*_ga_XJWPQMJYHQ*MTY5Njc2NjY1Mi41LjEuMTY5Njc2NzU2Ny41OC4wLjA.">mysqldocker配置</a>）</li><li>-v这一行自动volume命名为<code>todo-mysql-data</code>,挂在container的<code>/var/lib/mysql</code></li></ul></li><li><p><code>docker run -it --network todo-app nicolaka/netshoots</code></p><ul><li>container之间的通信需要用到nicolaka/netshoot工具来辅助，首先启动nicolaka/netshoot</li></ul></li><li><p><code>dig mysql</code></p><ul><li>使用nicolaka/netshoot提供的DNS工具查看就知道要连接到什么host-name，可以让新的container连接到mysql</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -dp 127.0.0.1:3000:3000 \<br>  -w /app -v &quot;$(pwd):/app&quot; \<br>  --network todo-app \<br>  -e MYSQL_HOST=mysql \<br>  -e MYSQL_USER=root \<br>  -e MYSQL_PASSWORD=secret \<br>  -e MYSQL_DB=todos \<br>  node:18-alpine \<br>  sh -c &quot;yarn install &amp;&amp; yarn run dev<br></code></pre></td></tr></table></figure><ul><li>启动需要连接mysql的container，并提供相应的mysql参数</li></ul><h3 id="run-applications-using-docker-compose">Run applications usingDocker Compose</h3><blockquote><p>使用 YAML 文件简化多container应用的启动</p><p>https://docs.docker.com/get-started/08_using_compose/</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">app:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">node:18-alpine</span><br>    <span class="hljs-attr">command:</span> <span class="hljs-string">sh</span> <span class="hljs-string">-c</span> <span class="hljs-string">&quot;yarn install &amp;&amp; yarn run dev&quot;</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:3000:3000</span><br>    <span class="hljs-attr">working_dir:</span> <span class="hljs-string">/app</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./:/app</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-attr">MYSQL_HOST:</span> <span class="hljs-string">mysql</span><br>      <span class="hljs-attr">MYSQL_USER:</span> <span class="hljs-string">root</span><br>      <span class="hljs-attr">MYSQL_PASSWORD:</span> <span class="hljs-string">secret</span><br>      <span class="hljs-attr">MYSQL_DB:</span> <span class="hljs-string">todos</span><br><br>  <span class="hljs-attr">mysql:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">mysql:8.0</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">todo-mysql-data:/var/lib/mysql</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-attr">MYSQL_ROOT_PASSWORD:</span> <span class="hljs-string">secret</span><br>      <span class="hljs-attr">MYSQL_DATABASE:</span> <span class="hljs-string">todos</span><br><br><span class="hljs-attr">volumes:</span><br>  <span class="hljs-attr">todo-mysql-data:</span><br></code></pre></td></tr></table></figure><h2 id="reference">Reference</h2><p>[1] https://medium.com/<span class="citation"data-cites="saschagrunert/demystifying-containers-part-i-kernel-space-2c53d6979504">@saschagrunert/demystifying-containers-part-i-kernel-space-2c53d6979504</span></p>]]></content>
    
    
    <categories>
      
      <category>系统设计</category>
      
    </categories>
    
    
    <tags>
      
      <tag>虚拟化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>操作系统与虚拟化安全-虚拟化概述</title>
    <link href="/2023/09/25/OS-Virtualization-Security-lesson4/"/>
    <url>/2023/09/25/OS-Virtualization-Security-lesson4/</url>
    
    <content type="html"><![CDATA[<p>（接intro）</p><h2 id="虚拟化技术分类">虚拟化技术分类</h2><ul><li><p>按照数据中心分，基础设施、系统、软件</p></li><li><p>按照层次分，可以如图</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230925095343336.png" alt="image-20230925095343336" style="zoom:33%;" /></p><h4 id="基础设施虚拟化">基础设施虚拟化</h4><ul><li>网络虚拟化：网络的硬件与软件资源整合，向用户提供虚拟网络连接的虚拟化技术</li><li>存储虚拟化：物理的存储设备提供一个抽象的逻辑视图</li><li>系统虚拟化：一台物理机上虚拟出一台或多台虚拟机(VM)</li></ul><h4 id="系统虚拟化">系统虚拟化</h4><p>pool</p><h4 id="软件虚拟化">软件虚拟化</h4><p>Pool</p><h2 id="服务器虚拟化技术">服务器虚拟化技术</h2><h3 id="种体系结构">3种体系结构</h3><h4 id="esx">ESX</h4><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230925101847326.png" alt="image-20230925101847326" style="zoom:50%;" /></p><h4 id="vmware-workstation">VMware workstation</h4><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230925101914213.png" alt="image-20230925101914213" style="zoom:50%;" /></p><h4 id="xen">Xen</h4><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230925101928521.png" alt="image-20230925101928521" style="zoom:50%;" /></p><h3 id="虚拟化实现技术">虚拟化实现技术</h3><blockquote><p>虚拟机系统是通过在现有平台(裸机或操作系统)上增加一个虚拟层VMM(virtualMachine Monitor或Hypervisor)来实现</p></blockquote><h4 id="全虚拟化">1、全虚拟化</h4><ul><li>hypervisor提到0环权限，os换成1环</li><li>全部的指令都交给Hypervisor拦截，并转换处理，不需要改os</li><li>Hypervisor需要做软件模拟，开销大</li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230925102155008.png" alt="image-20230925102155008" style="zoom:33%;" /></p><h4 id="半虚拟化">2、半虚拟化</h4><ul><li>os的权限环不变，hypervisor也在0权限环</li><li>对特权指令的调用都改成对Hypervisor的调用（hyper call），os修改</li><li>性能优于全虚拟化</li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230925102522518.png" alt="image-20230925102522518" style="zoom:33%;" /></p><h4 id="硬件辅助虚拟化">3、 硬件辅助虚拟化</h4><ul><li>CPU 额外的多提供了一个环为Hypervisor专用，称为 -1环（硬件实现）</li><li>在操作系统调用特权指令的时候，通过硬件的机制将特权指令调用转到在处在-1环上的Hypervisor 上（os不用修改）</li><li>需要硬件支持（Intel VT和AMD-V）</li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230925103038438.png" alt="image-20230925103038438" style="zoom:33%;" /></p><h4 id="相应的产品对比">相应的产品对比</h4><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230925103151200.png" alt="image-20230925103151200" style="zoom:33%;" /></p><h3 id="vmm实现技术">VMM实现技术</h3><blockquote><p>上一节相当于vmm的实现类型</p></blockquote><h4 id="cpu虚拟化">CPU虚拟化</h4><h5 id="目标">目标</h5><ul><li><p>为每个虚拟机提供 一个或多个 虚拟CPU（VCPU）</p></li><li><p>多个VCPU 复用 物理CPUs,任何时刻一个物理CPU只能被一个VCPU使用</p></li></ul><h5 id="实现">实现</h5><ul><li>模拟执行是指由VMM模拟所有指令的执行效果，包括解释执行和二进制代码翻译执行，效率较低。</li><li>监控执行是指虚拟机的绝大多数指令都在物理主机上直接执行，少量可能影响虚拟机运行或影响其虚拟机状态的指令(敏感指令)必须由VMM监控并模拟其执行效果。执行效率较高。取决于模拟执行指令数量、复杂度和算法性能</li></ul><h5 id="硬件辅助的实现intel-vt-x操作模式">硬件辅助的实现——IntelVT-x操作模式</h5><ul><li>即上文硬件辅助虚拟化具体实现机制，实现根模式、非根模式切换</li></ul><p>pool</p><h4 id="内存虚拟化">内存虚拟化</h4><h5 id="vmm参与时的机器地址定位过程">VMM参与时的机器地址定位过程</h5><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230925111332784.png" alt="image-20230925111332784" style="zoom:50%;" /></p><ul><li>在硬件层面用EPT技术实现两次的地址转换（x86只能支持一次地址转换）</li><li>或者用下文的页表虚拟化技术</li></ul><h5 id="页表虚拟化">页表虚拟化</h5><ul><li><p>背景：os通过多级页表建立虚拟地址到物理地址的映射关系</p></li><li><p>整体思路：由VMM 根据映射 f 和 g 生成复合的映射f·g，并直接将这个映射关系交给MMU（Memory Management Unit)</p><ul><li>泛虚拟化方法<ul><li>直接将 f.g 映射关系更新到Guest OS页表项中</li><li>安全隐患大，因为理论上VMM不应该知道guestos到HW的映射（违背了f映射对于虚拟机不应可见的规则）</li><li>例如：Xen</li></ul></li><li>全虚拟化方法<ul><li>guest OS的每个页表维护一个影子页表，并将合成后的映射关系 f·g写入到“影子”中，guest OS的页表内容保持不变</li><li>VMM将影子页表交给MMU进行地址转换</li></ul></li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230925111742019.png" alt="image-20230925111742019" style="zoom:50%;" /></p><h5 id="内存虚拟化的优化">内存虚拟化的优化</h5><p>pool</p><h4 id="io虚拟化">IO虚拟化</h4><blockquote><p>《系统虚拟化：原理与实现》</p></blockquote><h5 id="设备发现">设备发现</h5><h5 id="访问截获">访问截获</h5><h5 id="设备模拟">设备模拟</h5><h5 id="设备共享">设备共享</h5>]]></content>
    
    
    <categories>
      
      <category>PKU lessons</category>
      
      <category>PG-1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OS</tag>
      
      <tag>Virtualization</tag>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《The Art of Linux Kernel》- Ch1</title>
    <link href="/2023/09/22/The-Art-of-Linux-Kernel-Ch1/"/>
    <url>/2023/09/22/The-Art-of-Linux-Kernel-Ch1/</url>
    
    <content type="html"><![CDATA[<blockquote><p>版本：Linux 0.11</p><p>硬件：IA-32 CPU、16MB 内存（2MB作为虚拟内存）、BIOS中设置软驱作为启动</p><p>（软盘相当于一种可移动的外部存储设备，由于读取速度慢、容量小等原因，目前已经被其他更高效、容量更大的外部存储设备所替代）</p></blockquote><h2 id="通电-main">通电 -&gt; main</h2><blockquote><p>通电-&gt;BIOS启动-&gt;内存中加载中断向量表、中断服务程序-&gt;32位模式</p></blockquote><h3 id="1、BIOS启动">1、BIOS启动</h3><h4 id="找到BIOS">找到BIOS</h4><ul><li>CPU硬件逻辑实现：CS=0xF000 IF=0xFFF0</li><li>BIOS的地址位置：0xFFFF0，固化在主机版的ROM中</li></ul><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922144002551.png" alt="开电时，BIOS的状态" style="zoom:33%;" /><h4 id="BIOS加载中断向量表、中断服务程序">BIOS加载中断向量表、中断服务程序</h4><ul><li>启动BIOS以后，开始监测显卡、内存等等，最重要开始加载中断向量表、中断服务程序</li></ul><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922144618617.png" alt="image-20230922144618617" style="zoom:33%;" /><ul><li>每个中断向量都指向对应的中断服务程序（实模式的中断机制）</li><li>256个中断向量，每个4字节，2字节IP的值，2字节是CS的值</li></ul><h3 id="2、加载操作系统内核程序">2、加载操作系统内核程序</h3><blockquote><p>分批从软盘的不同扇区加载所有的操作系统程序到内存，为保护模式准备</p></blockquote><h4 id="加载第一批内核代码：bootsect">加载第一批内核代码：bootsect</h4><ul><li>硬件设计+BIOS，出现一个int 0x19中断，对应找到对应的中断服务程序，这个服务程序的作用是将第一扇区的程序加载</li></ul><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922150911622.png" alt="image-20230922150911622" style="zoom:33%;" /><ul><li>第一扇区（boot sector）内对应的程序就是引导程序：bootsect（512B）</li></ul><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922151502051.png" alt="image-20230922151502051" style="zoom:33%;" /><ul><li>至此，从启动电脑终于接触到了linux操作系统自己的代码（一段汇编），加载到了内存中</li></ul><h4 id="讨论：对于不同操作系统，如何同样方式加载？">讨论：对于不同操作系统，如何同样方式加载？</h4><p>BIOS是写在主机板ROM上的，不管操作系统是啥，对于不同的操作系统类型，采用同样方式加载：</p><ol><li>BIOS接到启动os的指定，固定从启动扇区把程序加载到0x07C00</li><li>操作系统的第一段程序固定放在软盘0盘面0磁道1扇区</li></ol><h4 id="第二部分内核代码：setup">第二部分内核代码：setup</h4><p>boosect的任务是继续加载第二、三批的内核代码，采取以下步骤：</p><h5 id="（1）规划内存（key-in-os）">（1）规划内存（key in os）</h5><ul><li>确保不同的程序、数据不会重叠，有足够的空间安身立命</li></ul><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922153024041.png" alt="image-20230922153024041" style="zoom:33%;" /><h5 id="（2）复制bootsect到新的位置">（2）复制bootsect到新的位置</h5><ul><li><p>现在CPU的CS指向的就是BOOTSEG</p></li><li><p>bootsect把自身从BOOTSEG复制到INITSEG（pool）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs 56">start:<br>  mov ax，#BOOTSEG<br>  mov ds,ax<br>  mov ax，#INITSEG<br>  mov es,ax<br>  mov cx,#256  (256字就是512B)<br>  sub si,si<br>  sub di,di<br>  rep<br>  movw<br> <br></code></pre></td></tr></table></figure></li><li><p>bootsect直接可以跳转到INITSEG执行了（相当于原来的BOOTSEG位置是约定的位置，不是自己规划的位置），这个时候开始完全摆脱BIOS，根据自己的安排执行</p></li></ul><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922161104507.png" alt="image-20230922161104507" style="zoom:33%;" /><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim">jmpi <span class="hljs-keyword">go</span>，INITSEG   ！这行之前bootsect已经复制过去到了INITSEG，程序跳转到INITSEG执行了<br><span class="hljs-keyword">go</span>: mov ax, <span class="hljs-keyword">cs</span>  ！在INITSEG新的位置继续执行bootsect代码<br></code></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922161722859.png" alt="image-20230922161722859" style="zoom:33%;" /><ul><li>代码整体位置变了，所以代码各个段（寄存器）也会发生变化<ul><li>SS（Stack segment）：指向栈段</li><li>SP（Stack pointer）：栈顶指针</li></ul></li></ul><h5 id="（3）加载setup程序">（3）加载setup程序</h5><ul><li>int 0x13中断，指向磁盘服务程序</li><li>和加载bootect时候的0x19中断不同，0x19对应的服务程序是BIOS执行的，但现在是bootsect执行0x13指向的程序</li><li>0x19对应的服务程序写死，将第一扇区的程序加载到0x07C00，而0x13的程序可以指定扇区的代码加载到指定位置，开始要<strong>传参</strong>了</li></ul><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922162147780.png" alt="image-20230922162147780" style="zoom: 33%;" /><ul><li><p>注意此时已经加载5个扇区，且setup.s会加载到INITSEG的位置</p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922162942831.png" alt="image-20230922162942831" style="zoom:33%;" /></li></ul><h4 id="加载第三部分内核代码：system模块">加载第三部分内核代码：system模块</h4><ul><li><p>仍然用0x13的中断</p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922163259030.png" alt="image-20230922163259030" style="zoom:33%;" /></li><li><p>这次加载240个扇区，由bootsect的read_it完成，加载到SYSSEG之后</p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922163439978.png" alt="image-20230922163439978" style="zoom:33%;" /></li></ul><h4 id="Bootsect收尾工作：检查根设备号">Bootsect收尾工作：检查根设备号</h4><ul><li>检查是否设置了根文件系统设备，若没有设置根据不同扇区数设置</li><li>所以linux启动要系统内核镜像、根文件系统</li><li>可以理解到这里，bootsect程序执行完了，接下来是setup的执行</li></ul><h4 id="setup执行">setup执行</h4><ul><li>jump 0，SETUPSEG，跳转到setup程序的位置开始执行</li><li>利用BIOS的中断服务程序，提取内核运行需要的<strong>机器系统数据</strong>：光标位置、显示页面等等，加载到内存对应的位置</li></ul><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230922164428132.png" alt="image-20230922164428132" style="zoom:33%;" /><ul><li>加载的位置覆盖了bootsect的程序位置（只留出一个字节空间）</li><li>至此，内核代码加载完全结束，通过已经加载到内存的内核代码，系统将从实模式转变为保护模式</li></ul><h3 id="3、开启32位保护模式">3、开启32位保护模式</h3><h4 id="废除原本的中断机制">废除原本的中断机制</h4><ul><li>关闭中断：关闭直到建立main适合的新的中断服务建立<ul><li>将CPU的标识寄存器EFLAGS的IF置为0（中断不被允许）</li><li>setup.s中的cli和sti分别是关、开中断</li></ul></li><li>移动内核代码到0x00000，覆盖了原来BIOS的中断向量表、数据的区域<ul><li>16位的实模式中断不再适合即将开始的32位linux中断，因此可以回收这块区域了</li></ul></li></ul><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230923100014304.png" style="zoom:33%;" /><h4 id="描述符表的准备">描述符表的准备</h4><ul><li><p>全局描述符表：GDT</p><ul><li>唯一存段寄存器内容（段描述符）的数组，配合程序实现段寻址</li><li>所有进程的全局目录，存储每一个任务的局部描述符表（LDT）地址、任务状态段（TSS）地址</li><li>功能：各段的寻址、保护和恢复现场</li><li>GDTR：GDT基地址寄存器，存GDT的基地址，通过LGDTR命令来加载GDT到GDTR</li></ul></li><li><p>中断描述符表：IDT</p><ul><li>所有中断服务程序的入口地址，类似实模式的中断向量表</li><li>IDTR：IDT基地址寄存器</li></ul></li><li><p>比较16位中断和32位中断</p><ul><li>16位的中断向量表固定写死在0x00000的位置，32位利用IDT可以任意放位置，用IDTR来寻址</li><li>在中断重启之前，IDT是一张空的表</li></ul></li></ul><h4 id="打开32位寻址">打开32位寻址</h4><ul><li><p>打开A20地址线，注意物理内存寻址和内存寻址的变化</p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230923102442817.png" alt="image-20230923102442817" style="zoom:33%;" /></li><li><p>内存寻址：直接从5个f变成8个f，32位，4GB的寻址空间</p></li><li><p>物理寻址：16MB（pool）</p></li></ul><h4 id="重新编程8259A">重新编程8259A</h4><ul><li>8259A是一个可编程的中断控制器</li><li>保护模式下，Intel保留了0x00-0x1F作为不可屏蔽中断、异常中断，所以要重新分布中断号</li></ul><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230923103757762.png" alt="image-20230923103757762" style="zoom:33%;" /><ul><li>CR0寄存器置为1，CR0寄存器保存的是PE（protected mode enable，保护模式使能，为0则实模式）</li><li>正式开启保护模式，对比开启前后的寻址变化（pool，P26）</li></ul><h3 id="4、-head-s的执行">4、 head.s的执行</h3><p>p27</p><h2 id="review">review</h2><h4 id="实模式和保护模式">实模式和保护模式</h4><ul><li>实模式，即程序中用到的地址都是真实的物理地址，“段基址:段内偏移地址”产生的逻辑地址就是物理地址，即程序员可见的地址完全是真实的内存地址</li><li>保护模式：随着CPU的位数和寄存器的位数增加，有更安全内存地址定位方式。见<a href="https://zhuanlan.zhihu.com/p/42309472">详细解释</a></li></ul><h4 id="CS和IP">CS和IP</h4><ul><li>CS是代码段寄存器，定义存放代码的存储器的起始地址</li><li>IP为指令指针寄存器，他们一起合作指向了CPU当前要读取的指令地址</li></ul><h4 id="段寄存器">段寄存器</h4><ul><li>pool</li></ul>]]></content>
    
    
    <categories>
      
      <category>系统设计</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>操作系统与虚拟化安全-内核导论</title>
    <link href="/2023/09/18/OS-Virtualization-Security-lesson3/"/>
    <url>/2023/09/18/OS-Virtualization-Security-lesson3/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.kernel.org/**">配合内核代码结构理解</a></p><p><strong>安全工作重点关注：</strong>不同子组件的系统调用，pool</p><h2 id="内核结构">内核结构</h2><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230918093945084.png" alt="程序调用内核协同" style="zoom:50%;" /></p><h3 id="内核代码结构">内核代码结构</h3><blockquote><p><strong>linux4.19内核代码</strong>：https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/tree/?h=v4.19.294</p></blockquote><p>init：开机启动</p><ul><li>https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/tree/init?h=v4.19.294</li></ul><p>kernel：进程管理和调度</p><ul><li>https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel?h=v4.19.294</li><li>fork.c等等</li></ul><p>ipc：进程通信</p><ul><li>https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/tree/ipc?h=v4.19.294</li></ul><p>fs：文件系统</p><ul><li>https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/tree/fs?h=v4.19.294</li><li>vfs是抽象层次封装的文件系统，便于扩展</li><li>鸿蒙的文件系统就是在vfs下实现的分布式文件系统</li></ul><p>include：数据结构的实现</p><p>security：安全部分代码</p><ul><li>https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/tree/security?h=v4.19.294</li><li>比如se linux等模块</li></ul><h3 id="文件子系统">文件子系统</h3><h4 id="功能">功能</h4><ul><li>分配文件空间</li><li>管理空闲空间</li><li>控制对文件的存取</li><li>为用户检索数据</li></ul><h4 id="系统调用">系统调用</h4><ul><li>open, creat, close, read, write, state, chown, chmod, link, unlink,mount, umount</li></ul><h3 id="进程控制子系统">进程控制子系统</h3><h4 id="功能-1">功能</h4><ul><li>进程同步</li><li>进程间通信</li><li>存储管理</li><li>进程调度</li></ul><h4 id="系统调用-1">系统调用</h4><ul><li>fork, exec, execve, setuid, exit, kill, wait, brk</li></ul><h3 id="硬件控制">硬件控制</h3><h4 id="功能-2">功能</h4><ul><li>负责处理中断及与机器通信</li></ul><h2 id="文件的内容表示">文件的内容表示</h2><h3 id="inode-table">inode table</h3><blockquote><p>include/inode.c</p></blockquote><h4 id="内容">内容</h4><ul><li><p>包含文件所有者、存取权限、及其存取时间等信息</p></li><li><p><strong>后期做安全权限控制修改的部分</strong></p></li></ul><h4 id="文件索引过程">文件索引过程</h4><ul><li>内核每次分析文件名中的<strong>一个分量</strong>，检查该进程是否有权检索路径中的目录</li><li>并且最终检索到该文件所对应的索引节点。如：<code>open(“/fs2/mjb/rje/sourcefile”,1);</code></li></ul><h4 id="文件创建操作过程">文件创建、操作过程</h4><ul><li>当一个进程建立一个新文件时，内核分配给它一个尚未使用的索引节点，索引节点被存储在文件系统中(即磁盘索引节点表）</li><li>但是当操作文件时，内核将它们读到内存索引节点表中，即：对系统中的每个活动的文件（被某个进程打开了），内存中索引节点表都包含一个条目</li></ul><h4id="对比磁盘索引节点表内存索引节点表">对比：磁盘索引节点表、内存索引节点表</h4><ul><li>磁盘索引节点</li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230918102004538.png" alt="磁盘索引节点内容" style="zoom: 50%;" /></p><ul><li>内存索引节点<ul><li><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230918102202300.png" alt="内存索引节点" style="zoom: 50%;" /></li><li>引用数：open文件的进程数</li><li>内核函数：<ul><li>iget 分配一个索引节点的内存拷贝</li><li>iput 释放一个索引节点的内存拷贝</li><li>namei 把路径名转换为索引节点</li><li>ialloc 把一个磁盘索引节点分配给一个新建立的文件</li><li>ifree 释放一个磁盘索引节点</li></ul></li></ul></li></ul><h4id="对比文件表file-table用户文件描述符表user-file-descriptor-table内存索引节点">对比：文件表(filetable)、用户文件描述符表(user file descriptor table)、内存索引节点</h4><ul><li><p>文件表</p><blockquote><p>include/file结构体</p></blockquote><ul><li>linux内核里全局表，所有进程共享（内核唯一）</li><li>其中的一个条目《=》内核里all进程的open<ul><li>文件偏移量</li><li>访问模式（读、写、or 读-写）</li><li>指向它的文件描述符表的条目计数</li></ul></li></ul></li><li><p>用户文件描述符表</p><blockquote><p>files_struct 结构体</p></blockquote><ul><li>记录某进程所有打开的文件（进程唯一）</li><li>每个进程用一个fs_struct结构体来描述<strong>进程的当前工作目录</strong>及其<strong>所在文件系统根目录下的索引节点</strong></li><li>理解图1：由于文件表条目存储了访问模式（当前读写位置），所以由于A、B进程中对同一个位置的访问模式不同，所以指向不同的文件表条目。</li><li>理解图2：假设B是一个A打开文件以后fork的进程，对应后面的图，不需要再开一个新的文件表条目</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230918103220916.png" alt="理解三张表的关系" style="zoom:33%;" /></p><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230918103902793.png" alt="image-20230918103902793" style="zoom:33%;" /></p><h2 id="进程的结构">进程的结构</h2><h3 id="数据结构">数据结构</h3><ul><li>标识号：唯一标识一个进程，用组号标识、用户标识来确定权限<ul><li>真正用户/组标识号：uid，gid</li><li>有效用户/组标识号：euid，egid（真正有效的一组），pool</li></ul></li><li>状态信息：进程当前的状态</li><li>调度信息：如计数器、优先级、调度策略、实时优先级</li><li>通信信息：<ul><li>如信号Signals，管道Pipes，以及内存共享shared memory,信号量semaphore, 消息队列 Message Queues</li><li>进程接到的信号、信号掩码、信号处理函数、为避免死锁而在信号量上设置的取消操作、与信号量相关的等待队列</li></ul></li><li>进程链接信息：<ul><li>进程树中的位置（父子关系、兄弟关系）</li><li>运行队列的位置</li></ul></li><li>时间和定时器</li><li>文件系统信息<ul><li>可执行映像所对应根目录、当前目录的指针（<code>struct fs_struct *fs</code>）</li><li>打开的文件的描述符（<code>struct files_struct *files</code>）</li></ul></li><li>相关上下文信息<ul><li>虚拟内存与物理内存之间的映射信息</li><li>和处理器相关的环境信息，如寄存器、堆栈信息，在进程暂停、恢复是保存和恢复其状态</li></ul></li></ul><h3 id="进程树">进程树</h3><h3 id="进程的标识">进程的标识</h3><h3 id="进程上下文">进程上下文</h3><h3 id="进程表与u区">进程表与U区</h3><h3 id="进程的状态">进程的状态</h3><h4 id="进程的控制">进程的控制</h4><h2 id="进程的通信">进程的通信</h2><h3 id="基本机制">基本机制</h3><h3 id="unix系统v的ipc机制">UNIX系统V的IPC机制</h3><h3 id="系统调用-2">系统调用</h3><h4 id="消息队列">消息队列</h4><h4 id="共享存储区">共享存储区</h4><h4 id="信号量">信号量</h4><h2 id="io-子系统">I/O 子系统</h2><p>​</p>]]></content>
    
    
    <categories>
      
      <category>PKU lessons</category>
      
      <category>PG-1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OS</tag>
      
      <tag>Virtualization</tag>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>操作系统与虚拟化安全-OS基础</title>
    <link href="/2023/09/18/OS-Virtualization-Security-lesson2/"/>
    <url>/2023/09/18/OS-Virtualization-Security-lesson2/</url>
    
    <content type="html"><![CDATA[<h2 id="cpu管理">CPU管理</h2><h3 id="进程调度">进程调度</h3><h4 id="意义">意义</h4><p>​ 线程-资源分配、保护的基本单位</p><h4 id="攻击点">攻击点</h4><ul><li><p>进程调度优先级控制：拒绝服务</p></li><li><p>cpu时间窃取</p></li></ul><h3 id="中断管理">中断管理</h3><h4 id="定义">定义</h4><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230918085040730.png" alt="中断定义" style="zoom: 50%;" /></p><h4 id="功能">功能</h4><ul><li>实现多道程序设计与并发执行的基础和必要条件</li><li>将CPU（也作为一种资源）分派给不同的进程而实现并发执行</li></ul><h4 id="中断源">中断源</h4><ul><li>中断时机</li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230918085510940.png" alt="中断源类型" style="zoom: 33%;" /></p><h2 id="存储管理">存储管理</h2><h3 id="功能-1">功能</h3><ul><li>分配：给用户程序分配运行空间</li><li>扩充：虚拟存储</li><li>保护：隔离不同的用户程序</li><li>共享：用户程序公用数据</li></ul><h3 id="存储体系">存储体系</h3><ul><li>在cache层次解密，提高安全等级</li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230918085756979.png" alt="存储体系" style="zoom:33%;" /></p><h2 id="设备管理">设备管理</h2><p>解决不同类型的设备协同</p><h3 id="设备类型">设备类型</h3><h4 id="按资源的占用">按资源的占用</h4><ul><li><p>独占设备：一个时间仅允许一个进程</p></li><li><p>共享设备</p></li><li><p>虚设备</p><ul><li>共享模拟独占</li><li>高速模拟低速</li><li>慢速模拟共享：提高利用率</li></ul></li></ul><h4 id="按数据访问方式">按数据访问方式</h4><ul><li>块设备：常用缓冲-填满再一并处理</li><li>字符设备</li><li>网络设备：by BSD套接口socket</li></ul><h2 id="文件管理">文件管理</h2><h3 id="文件系统">文件系统</h3><p>操纵和管理文件的整套设施</p><h4 id="分类">分类</h4><blockquote><p>下面的数值-文件存储最小单元，即新建文件的初始大小</p></blockquote><ul><li>FAT：32kb</li><li>FAT32：4kb</li><li>NTFS：4kb</li></ul><p>不同的文件系统设计、<strong>对加密的支持不同</strong></p><p><ahref="https://learn.microsoft.com/zh-CN/troubleshoot/windows-client/backup-and-storage/fat-hpfs-and-ntfs-file-systems">对比FAT和NTFS的特点、优缺</a></p><h3 id="文件目录">文件目录</h3><ul><li>对于不同层级的路径进行权限管理、监测</li></ul>]]></content>
    
    
    <categories>
      
      <category>PKU lessons</category>
      
      <category>PG-1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OS</tag>
      
      <tag>Virtualization</tag>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>多线程编程</title>
    <link href="/2023/09/17/multi-thread/"/>
    <url>/2023/09/17/multi-thread/</url>
    
    <content type="html"><![CDATA[<h2 id="基础知识概念"><strong>基础知识概念</strong></h2><h3 id="进程线程"><strong>进程+线程</strong></h3><p>简单理解： - 进程（process）：任务 - 线程（thread）：子任务</p><p>对比性能： - 创建进程比创建线程开销大 -进程间通信比线程间通信要慢，因为线程间通信就是读写同一个变量，速度很快 -多进程稳定性比多线程高</p><h3 id="多任务程序的模式"><strong>多任务程序的模式</strong></h3><h4id="多进程模式每个进程只有一个线程"><strong>多进程模式（每个进程只有一个线程）</strong></h4><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230917090339727.png" alt="多进程模式" style="zoom:50%;" /></p><h4id="多线程模式每个进程有多个线程"><strong>多线程模式（每个进程有多个线程）</strong></h4><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230917090406298.png" alt="多线程模式" style="zoom:50%;" /></p><h4 id="多进程多线程模式"><strong>多进程＋多线程模式</strong></h4><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230917090426325.png" alt="多进程线程模式" style="zoom:50%;" /></p><h2 id="java多线程编程基础"><strong>java多线程编程基础</strong></h2><h3 id="创建线程"><strong>创建线程</strong></h3><blockquote><p>Java语言内置了多线程支持。当Java程序启动的时候，实际上是启动了一个JVM进程，然后，JVM启动主线程来执行main()方法。在main()方法中，又可以启动其他线程</p></blockquote><h4 id="步骤"><strong>步骤</strong></h4><ol type="1"><li>实例化一个Thread对象，其run需要定义：<ul><li>方式1：自定义MyThread继承Thread,覆写run</li><li>方式2：创建Thread实例时，传入一个Runnable实例</li><li>方式3：lambda语法</li></ul></li><li>调用对象start方法，而不是run（不会产生新的线程）</li></ol><h4 id="例子"><strong>例子</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 方式1：</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>();<br>        t.start(); <span class="hljs-comment">// 启动新线程</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;start new thread!&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 方式2：</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRunnable</span>());<br>        t.start(); <span class="hljs-comment">// 启动新线程</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRunnable</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;start new thread!&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 方式3：</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>            System.out.println(<span class="hljs-string">&quot;start new thread!&quot;</span>);<br>        &#125;);<br>        t.start(); <span class="hljs-comment">// 启动新线程</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="线程的优先级"><strong>线程的优先级</strong></h4><ul><li>操作系统对高优先级线程可能调度更频繁，但我们决不能通过设置优先级来确保高优先级的线程一定会先执行</li><li><code>Thread.setPriority(int n) // 1~10, 增大默认值5</code></li></ul><h3 id="线程的状态"><strong>线程的状态</strong></h3><h4 id="状态类型"><strong>状态类型</strong></h4><ul><li>New：新创建的线程，尚未执行；</li><li>Runnable：运行中的线程，正在执行run()方法的Java代码；</li><li>Blocked：运行中的线程，因为某些操作被阻塞而挂起；</li><li>Waiting：运行中的线程，因为某些操作在等待中；</li><li>Timed Waiting：运行中的线程，因为执行sleep()方法正在计时等待；</li><li>Terminated：线程已终止，因为run()方法执行完毕。</li></ul><h4 id="状态间的转移"><strong>状态间的转移</strong></h4><ul><li>不建议使用stop（）函数进行强制的结束</li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230917090458683.png" alt="线程状态转移" style="zoom:50%;" /></p><h3 id="不同线程的交互"><strong>不同线程的交互</strong></h3><h4id="join等待某个线程结束后再执行"><strong>1、join：等待某个线程结束后再执行</strong></h4><blockquote><p>void join() Waits for this thread to die. void join(long millis)Waits at most millis milliseconds for this thread to die. void join(longmillis, int nanos) Waits at most millis milliseconds plus nanosnanoseconds for this thread to die.</p></blockquote><ul><li>一个线程还可以等待另一个线程直到其运行结束。</li><li>可以指定等待时间，超过等待时间线程仍然没有结束就不再等待；</li><li>例如，main线程在启动t线程后，可以通过t.join()等待t线程结束后再继续运行：</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">BThread</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">super</span>(<span class="hljs-string">&quot;[BThread] Thread&quot;</span>);<br>    &#125;;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">threadName</span> <span class="hljs-operator">=</span> Thread.currentThread().getName();<br>        System.out.println(threadName + <span class="hljs-string">&quot; start.&quot;</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>                System.out.println(threadName + <span class="hljs-string">&quot; loop at &quot;</span> + i);<br>                Thread.sleep(<span class="hljs-number">1000</span>);<br>            &#125;<br>            System.out.println(threadName + <span class="hljs-string">&quot; end.&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;Exception from &quot;</span> + threadName + <span class="hljs-string">&quot;.run&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    BThread bt;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">AThread</span><span class="hljs-params">(BThread bt)</span> &#123;<br>        <span class="hljs-built_in">super</span>(<span class="hljs-string">&quot;[AThread] Thread&quot;</span>);<br>        <span class="hljs-built_in">this</span>.bt = bt;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">threadName</span> <span class="hljs-operator">=</span> Thread.currentThread().getName();<br>        System.out.println(threadName + <span class="hljs-string">&quot; start.&quot;</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            bt.join();<br>            System.out.println(threadName + <span class="hljs-string">&quot; end.&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;Exception from &quot;</span> + threadName + <span class="hljs-string">&quot;.run&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">threadName</span> <span class="hljs-operator">=</span> Thread.currentThread().getName();<br>        System.out.println(threadName + <span class="hljs-string">&quot; start.&quot;</span>);<br>        <span class="hljs-type">BThread</span> <span class="hljs-variable">bt</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BThread</span>();<br>        <span class="hljs-type">AThread</span> <span class="hljs-variable">at</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AThread</span>(bt);<br>        <span class="hljs-keyword">try</span> &#123;<br>            bt.start();<br>            Thread.sleep(<span class="hljs-number">2000</span>);<br>            at.start();<br>            at.join();<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;Exception from main&quot;</span>);<br>        &#125;<br>        System.out.println(threadName + <span class="hljs-string">&quot; end!&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="中断线程"><strong>2、中断线程</strong></h4><h5 id="方式1interrupt"><strong>方式1：interrupt（）</strong></h5><blockquote><p>void interrupt() Interrupts this thread. static boolean interrupted()Tests whether the current thread has been interrupted.</p></blockquote><ul><li>在其他线程中对目标线程调用interrupt()方法</li><li>目标线程需要<mark>反复检测</mark>自身状态是否是interrupted状态，如果是，就立刻结束运行</li><li>interrupt()方法仅仅向t线程发出了“中断请求”，至于响应要看t的具体实现</li><li>对于调用<code>join()</code>处于等待其他线程状态的某线程，如果突然自己被<code>interrupt（）</code>中断，<code>join()</code>会弹出<code>InterruptedException</code>，所以要及时处理，并停下</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException &#123;<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>();<br>        t.start();<br>        Thread.sleep(<span class="hljs-number">1000</span>);<br>        t.interrupt(); <span class="hljs-comment">// 中断t线程</span><br>        t.join(); <span class="hljs-comment">// 等待t线程结束</span><br>        System.out.println(<span class="hljs-string">&quot;end&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">hello</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HelloThread</span>();<br>        hello.start(); <span class="hljs-comment">// 启动hello线程</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            hello.join(); <span class="hljs-comment">// 等待hello线程结束</span><br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;interrupted!&quot;</span>);<br>        &#125;<br>        hello.interrupt();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (!isInterrupted()) &#123;<br>            n++;<br>            System.out.println(n + <span class="hljs-string">&quot; hello!&quot;</span>);<br>            <span class="hljs-keyword">try</span> &#123;<br>                Thread.sleep(<span class="hljs-number">100</span>);<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="方式2runningfalse"><strong>方式2：running=false</strong></h5><p>注意点： - 线程中要用 <strong>volatile</strong>标记<code>boolean running</code>，因为这是一个线程间共享的变量，原因如下：-在Java虚拟机中，变量的值保存在主内存中，但是，当线程访问变量时，它会先获取一个副本，并保存在自己的工作内存中。- 如果线程修改了变量的值，虚拟机会在某个时刻把修改后的值回写到主内存 -volatile关键字的目的是告诉虚拟机： -每次访问变量时，总是获取主内存的最新值； -每次修改变量后，立刻回写到主内存。 -volatile关键字解决的是可见性问题：当一个线程修改了某个共享变量的值，其他线程能够<strong>立刻看到</strong> 修改后的值。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>  <span class="hljs-keyword">throws</span> InterruptedException &#123;<br>        <span class="hljs-type">HelloThread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HelloThread</span>();<br>        t.start();<br>        Thread.sleep(<span class="hljs-number">1</span>);<br>        t.running = <span class="hljs-literal">false</span>; <span class="hljs-comment">// 标志位置为false</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">volatile</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">running</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (running) &#123;<br>            n ++;<br>            System.out.println(n + <span class="hljs-string">&quot; hello!&quot;</span>);<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;end!&quot;</span>);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="守护线程daemon-thread"><strong>3、守护线程（DaemonThread）</strong></h4><blockquote><p>void setDaemon(boolean on) Marks this thread as either a daemonthread or a user thread. The Java Virtual Machine exits when the onlythreads running are all daemon threads. This method must be invokedbefore the thread is started.</p></blockquote><ul><li>如果有一个线程没有退出，JVM进程就不会退出。所以，必须保证所有线程都能及时结束</li><li>但是有些线程本身就是不会结束的，例如：Java垃圾回收线程就是一个典型的守护线程</li><li>守护线程是为其他线程服务的线程；</li><li>所有非守护线程都执行完毕后，虚拟机退出,即不等待守护线程</li><li>守护线程不能持有需要关闭的资源（如打开文件等）</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>();<br>t.setDaemon(<span class="hljs-literal">true</span>);<br>t.start();<br></code></pre></td></tr></table></figure><h4 id="线程同步"><strong>4、线程同步</strong></h4><blockquote><p>多线程要解决一个重要问题：数据的一致性</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230917090748824.png" alt="加锁原理" style="zoom:50%;" /></p><ul><li>这种加锁和解锁之间的代码块我们称之为临界区（Critical Section）</li><li>效果：任何时候临界区最多只有一个线程能执行</li><li>步骤：如何使用synchronized：<ul><li>找出修改共享变量的线程代码块；</li><li>选择一个共享实例作为锁；</li><li>使用synchronized(lockObject) { ... }。</li></ul></li><li>注意：<ul><li>加锁、解锁会降低程序效率，所以仅在有数据一致性差异的地方加锁，可以并发的部分不用加</li><li>在使用synchronized的时候，不必担心抛出异常。因为无论是否有异常，都会在synchronized结束处正确释放锁</li><li><ahref="https://xie.infoq.cn/article/2b331b488a9bf5db8b6c59f5f">volatile和synchronized的区别</a>:概括就是volatile可以实现可见性，<mark>但是无法实现原子性</mark>，syn都可以。</li><li><ahref="https://www.cnblogs.com/54chensongxia/p/11910681.html">java原子性介绍</a>：自带原子性的操作不需要用synchronized</li></ul></li></ul><h5 id="synchronized例子"><strong>synchronized例子</strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">var</span> <span class="hljs-variable">add</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AddThread</span>();<br>        <span class="hljs-type">var</span> <span class="hljs-variable">dec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DecThread</span>();<br>        add.start();<br>        dec.start();<br>        add.join();<br>        dec.join();<br>        System.out.println(Counter.count);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AddThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">10000</span>; i++) &#123;<br>            <span class="hljs-keyword">synchronized</span>(Counter.lock) &#123;<br>                Counter.count += <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DecThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">10000</span>; i++) &#123;<br>            <span class="hljs-keyword">synchronized</span>(Counter.lock) &#123;<br>                Counter.count -= <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="线程安全的类"><strong>5、线程安全的类</strong></h4><blockquote><p>如果一个类被设计为允许多线程正确访问，我们就说这个类就是“线程安全”的（thread-safe）</p></blockquote><h5 id="定义一个线程安全的类"><strong>定义一个线程安全的类</strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br>        <span class="hljs-keyword">synchronized</span>(<span class="hljs-built_in">this</span>) &#123;<br>            count += n;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dec</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br>        <span class="hljs-keyword">synchronized</span>(<span class="hljs-built_in">this</span>) &#123;<br>            count -= n;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">get</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">var</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> Counter();<br><span class="hljs-type">var</span> <span class="hljs-variable">c2</span> <span class="hljs-operator">=</span> Counter();<br><br><span class="hljs-comment">// 对c1进行操作的线程:</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>    c1.add();<br>&#125;).start();<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>    c1.dec();<br>&#125;).start();<br><br><span class="hljs-comment">// 对c2进行操作的线程:</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>    c2.add();<br>&#125;).start();<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>    c2.dec();<br>&#125;).start();<br></code></pre></td></tr></table></figure><ul><li>这样一来，线程调用add()、dec()方法时，它不必关心同步逻辑，因为synchronized代码块在add()、dec()方法内部。</li><li>并且，我们注意到，synchronized <strong>锁住的对象是this</strong>，即当前实例，这又使得创建多个Counter实例的时候，它们<strong>之间互不影响</strong> ，可以并发执行</li></ul><h5 id="java中线程安全的类">java中线程安全的类</h5><ul><li>Java标准库的java.lang.StringBuffer</li><li>一些不变类，例如String，Integer，LocalDate，它们的所有成员变量都是final，多线程同时访问时只能读不能写，这些不变类也是线程安全的</li><li>类似Math这些只提供静态方法，没有成员变量的类，也是线程安全的</li></ul><blockquote><p>大部分类，例如ArrayList，都是非线程安全的类，我们不能在多线程中修改它们。但是，如果所有线程都只读取，不写入，那么ArrayList是可以安全地在线程间共享的。</p></blockquote><h5id="synchronized位置与修饰的目标"><strong>synchronized位置与修饰的目标</strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">* 联系着看上面那个线程安全的类</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">// 当我们锁住的是this实例时，实际上可以用synchronized修饰这个方法。下面两种写法是等价的：</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-keyword">synchronized</span>(<span class="hljs-built_in">this</span>) &#123; <span class="hljs-comment">// 锁住this</span><br>        count += n;<br>    &#125; <span class="hljs-comment">// 解锁</span><br>&#125;<br><span class="hljs-comment">// 等价于</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123; <span class="hljs-comment">// 锁住this</span><br>    count += n;<br>&#125; <span class="hljs-comment">// 解锁</span><br><br><span class="hljs-comment">// 如果static，则锁住的是Counter.class</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="死锁"><strong>6、死锁</strong></h4><h5 id="可重入锁"><strong>可重入锁</strong></h5><ul><li>JVM允许同一个线程重复获取同一个锁，这种能被同一个线程反复获取的锁，就叫做可重入锁</li><li>例如下面的例子，add里面调用dec，就是再次获取当前实例的this锁。</li><li><strong>原理</strong>：获取锁的时候，会判断是否是第一次获取，同时记录这是第几次获取。每获取一次锁，记录+1，每退出synchronized块，记录-1，减到0的时候，才会真正释放锁。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br>        <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">0</span>) &#123;<br>            dec(-n);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            count += n;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dec</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br>        count += n;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h5 id="死锁的例子"><strong>死锁的例子</strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> m)</span> &#123;<br>    <span class="hljs-keyword">synchronized</span>(lockA) &#123; <span class="hljs-comment">// 获得lockA的锁</span><br>        <span class="hljs-built_in">this</span>.value += m;<br>        <span class="hljs-keyword">synchronized</span>(lockB) &#123; <span class="hljs-comment">// 获得lockB的锁</span><br>            <span class="hljs-built_in">this</span>.another += m;<br>        &#125; <span class="hljs-comment">// 释放lockB的锁</span><br>    &#125; <span class="hljs-comment">// 释放lockA的锁</span><br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dec</span><span class="hljs-params">(<span class="hljs-type">int</span> m)</span> &#123;<br>    <span class="hljs-keyword">synchronized</span>(lockB) &#123; <span class="hljs-comment">// 获得lockB的锁</span><br>        <span class="hljs-built_in">this</span>.another -= m;<br>        <span class="hljs-keyword">synchronized</span>(lockA) &#123; <span class="hljs-comment">// 获得lockA的锁</span><br>            <span class="hljs-built_in">this</span>.value -= m;<br>        &#125; <span class="hljs-comment">// 释放lockA的锁</span><br>    &#125; <span class="hljs-comment">// 释放lockB的锁</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>上面的代码中，add和dec可能会互相等待对方的锁</li><li>修改方式，将dec中的lockB和lockA交换</li></ul><h4 id="多线程协调方式"><strong>7、多线程协调方式</strong></h4><p>**synchronized + wait*</p><p><strong>Reentrantlock + Condition</strong></p><p><strong>ReadWriteLock、StampedLock</strong></p><p><strong>Semaphore</strong></p><p><strong>Concurrent集合</strong></p><p><strong>Atomic</strong></p><p><strong>线程池</strong></p><h4 id="future结果的返回"><strong>8、Future：结果的返回</strong></h4><h4id="forkjoin任务的拆解"><strong>9、Forkjoin：任务的拆解</strong></h4><h4 id="threadlocal-线程内的上下文"><strong>10、ThreadLocal:线程内的上下文</strong></h4><h2 id="场景案例"><strong>场景案例</strong></h2><h3id="一个线程等待多个并发的线程"><strong>1、一个线程等待多个并发的线程</strong></h3><h4 id="可选的方案"><strong>可选的方案</strong></h4><ul><li>使用 thread.join ()方法，让主线程等待子线程的终止。也就是说主线程的代码块中，如果碰到了t.join ()方法，此时主线程需要等待（阻塞），等待子线程结束了，才能继续执行 t.join() 之后的代码块。</li><li>使用 CountDownLatch类，这个类使一个线程等待其他线程各自执行完毕后再执行。是通过一个计数器来实现的，计数器的初始值是线程的数量。每当一个线程执行完毕后，计数器的值就-1，当计数器的值为 0时，表示所有线程都执行完毕，然后在闭锁上等待的线程就可以恢复工作了。</li><li>使用 CyclicBarrier类，这个类使一组线程相互等待到达一个公共屏障点。在CyclicBarrier类的内部有一个计数器，每个线程在到达屏障点的时候都会调用await () 方法将自己阻塞，此时计数器会减 1，当计数器减为 0的时候所有因调用 await () 方法而被阻塞的线程将被唤醒。</li><li><ahref="https://zhuanlan.zhihu.com/p/139020914">区分CountDownLatch和CyclicBarrier</a>：一句话概括就是前者是1个线程等待多个线程结束再开始，后者是多个线程相互等待到齐了再并发开始</li></ul><h4 id="例子采取countdownlatch-join"><strong>例子：采取CountDownLatch +join</strong></h4><blockquote><p><ahref="https://docs.oracle.com/javase/8/docs/api/">CountDownLatch官方文档</a></p></blockquote><h5 id="场景描述"><strong>场景描述</strong></h5><ul><li>用于将DAG（如下图）的不同节点创建线程，并用DAG的边关系协调线程关系</li><li>有一个主线程，要在所有子线程开始前做一些准备工作</li><li>子线程之间的依赖关系可以建模为DAG图</li><li>子线程完成工作后，主线程做一些收尾工作</li></ul><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230917090834238.png" alt="gBuilder场景案例" style="zoom: 33%;" /></p><h5 id="说明"><strong>说明</strong>：</h5><ul><li>CountDownLatch用于主线程</li><li>join用于给子线程做一个先后关系的（DAG的有向边）</li></ul><h5 id="代码片段"><strong>代码（片段）</strong></h5><p><strong>1、Scheduler（主线程）</strong> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Scheduler</span>&#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">arrange</span><span class="hljs-params">(DAG dag)</span> <span class="hljs-keyword">throws</span> InterruptedException &#123;<br>        ArrayList&lt;Node&gt; nodes = dag.getNodes();<br>        ArrayList&lt;Edge&gt; edges = dag.getEdges();<br>        <span class="hljs-type">CountDownLatch</span> <span class="hljs-variable">startSignal</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CountDownLatch</span>(<span class="hljs-number">1</span>);<br>        <span class="hljs-type">CountDownLatch</span> <span class="hljs-variable">doneSignal</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CountDownLatch</span>(nodes.size());<br>        <span class="hljs-comment">// 便于后面添加线程之间的先后关系</span><br>        ArrayList&lt;WorkerThread&gt; threads = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-comment">// node的id对应的Thread</span><br>        HashMap&lt;Integer,WorkerThread&gt; mit = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;i &lt; nodes.size();i++)<br>        &#123;<br>            <span class="hljs-type">WorkerThread</span> <span class="hljs-variable">tp</span> <span class="hljs-operator">=</span> ThreadStore.createThread(startSignal,doneSignal,nodes.get(i));<br>            tp.start();<br>            <span class="hljs-comment">// 将id和thread映射</span><br>            mit.put(nodes.get(i).getId(),tp);<br>            threads.add(tp);<br>        &#125;<br>        <span class="hljs-comment">// 准备工作</span><br>        System.out.println(<span class="hljs-string">&quot;Preparing something for the process of DAG...&quot;</span>);<br>        Thread.sleep(<span class="hljs-number">1000</span>);<br>        <span class="hljs-comment">// 在这里把对应的Thread之间加一些关系</span><br>        <span class="hljs-keyword">for</span>(Edge edge:edges)<br>        &#123;<br>            <span class="hljs-comment">// 添加前置关系</span><br>            mit.get(edge.getTarget()).addFormer(mit.get(edge.getSource()));<br>        &#125;<br>        <span class="hljs-comment">// 所有没有前置的线程可以开始了</span><br>        startSignal.countDown();<br>        <span class="hljs-comment">// 等所有的线程都完成了</span><br>        doneSignal.await();<br>        <span class="hljs-comment">// 收尾工作</span><br>        System.out.println(<span class="hljs-string">&quot;Finish the whole DAG.&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException &#123;<br>        <span class="hljs-type">Scheduler</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scheduler</span>();<br>        <span class="hljs-comment">// ? Json2G的具体类型待定，此处简单模拟</span><br>        <span class="hljs-type">DAG</span> <span class="hljs-variable">dag</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DAG</span>(Json2G.extractNodes(),Json2G.extractEdges());<br>        <span class="hljs-comment">// execute the DAG</span><br>        sc.arrange(dag);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><strong>2、WorkerThread（子线程）</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkerThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> CountDownLatch startSignal;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> CountDownLatch doneSignal;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Node node;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ArrayList&lt;WorkerThread&gt; formers;<br>    WorkerThread(CountDownLatch startSignal,CountDownLatch doneSignal, Node node) &#123;<br>        <span class="hljs-built_in">this</span>.startSignal = startSignal;<br>        <span class="hljs-built_in">this</span>.doneSignal = doneSignal;<br>        <span class="hljs-built_in">this</span>.node = node;<br>        <span class="hljs-built_in">this</span>.formers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addFormer</span><span class="hljs-params">(WorkerThread former)</span><br>    &#123;<br>        <span class="hljs-built_in">this</span>.formers.add(former);<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 运行对应的节点的函数</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            startSignal.await();<br>            <span class="hljs-comment">// 等待前面的进程完成先</span><br>            <span class="hljs-keyword">for</span>(Thread former:formers)<br>            &#123;<br>                former.join();<br>            &#125;<br>            <span class="hljs-comment">// 开始进行node的运行</span><br>            node.process();<br>            <span class="hljs-comment">// 锁减少1</span><br>            doneSignal.countDown();<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="reference">Reference</h2><p>[1] <ahref="https://www.liaoxuefeng.com/wiki/1252599548343744/1304521607217185">java-廖雪峰</a></p><p>[2] <a href="http://t.csdn.cn/j0SeD">CSDN</a></p>]]></content>
    
    
    <categories>
      
      <category>系统设计</category>
      
    </categories>
    
    
    <tags>
      
      <tag>java</tag>
      
      <tag>多线程</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法复杂度优化的技巧</title>
    <link href="/2023/09/17/algorithm-complex-optim/"/>
    <url>/2023/09/17/algorithm-complex-optim/</url>
    
    <content type="html"><![CDATA[<h2 id="一移项法">一、移项法</h2><p>●原理：所谓的移项法，就是将<mark>目标等式</mark>进行左右等价变化，辅助以哈希表/桶，从而减少类似<code>for(j:for(i))</code>的双层循环</p><p>●效果： 将算法从 $ O(n^2) $ 复杂度降低为 $ O(n) $</p><h3 id="使数组和能被p整除"><ahref="https://leetcode.cn/problems/make-sum-divisible-by-p/solutions/2158435/tao-lu-qian-zhui-he-ha-xi-biao-pythonjav-rzl0/">1590.使数组和能被P整除</a></h3><h4 id="前置余数知识">前置余数知识</h4><p>1、<code>( a + b ) % p = a % p + b % p</code></p><p>2、假如<code>( x - y) % p == 0</code> 1.假设<code>x &gt;= 0,y &gt;= 0</code>, 则有 <code>x % p == y % p</code>2.假设上面的某一方<code>x &lt; 0</code>，则有<code>x % p + p == y % p</code></p><h4 id="思路">思路</h4><p>1、利用余数结论，计算<strong>前缀和对p的余数</strong>，则<code>s[n]</code>就表示整体sum对p的余数。</p><p>2、则问题等价于找到 - 2.1、在前缀和数组上找到两个数<code>s[left]</code>和 <code>s[right]</code>，满足<code>right−left</code>最小且<code>(s[right]−s[left]) % p == s[n]</code>- 2.2、<mark>移项</mark>，<code>s[right]−s[n] % p == s[left]</code> -2.3、考虑可能出现正负<code>((s[right] − s[n]) % p + p) % p =  s[left]</code></p><p>3、<mark>避免双层遍历找left和right：</mark>使用一个哈希，存储<code>s[i]</code>出现的最近下标</p><p>4、遍历一遍，到了right，就找哈希里面是否存在left满足 =<code>((s[right] − s[n]) % p + p) % p</code></p><h4 id="代码">代码</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">minSubarray</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;nums, <span class="hljs-type">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>(), ans = n, s[n + <span class="hljs-number">1</span>];<br>    s[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>        s[i + <span class="hljs-number">1</span>] = (s[i] + nums[i]) % p;<br>    <span class="hljs-type">int</span> x = s[n];<br>    <span class="hljs-keyword">if</span> (x == <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// 移除空子数组（这行可以不要）</span><br><br>    unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; last;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)<br>    &#123;<br>        last[s[i]] = i;<br>        <span class="hljs-keyword">auto</span> it = last.<span class="hljs-built_in">find</span>((s[i] - x + p) % p);<br>        <span class="hljs-keyword">if</span> (it != last.<span class="hljs-built_in">end</span>())<br>            ans = <span class="hljs-built_in">min</span>(ans, i - it-&gt;second);<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans &lt; n ? ans : <span class="hljs-number">-1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="面试题-17.05.-字母与数字"><ahref="https://leetcode.cn/problems/find-longest-subarray-lcci/description/">面试题17.05. 字母与数字</a></h3><h4 id="思路-1">思路</h4><p>1、前缀计数：<code>left1[i]</code>记录到i位置的字母个数，<code>left2[j]</code>记录到j位置的数字个数</p><p>2、思路1：暴力，$ O(n^2) $，看看什么位置满足<code>left1[j]-left1[i] ==  left2[j]-left2[i]</code>,找到最小的i</p><p>3、思路2：<mark>移项</mark>，$ O(n) $，即找到<code>left1[j]-left2[j] ==  left1[i]-left2[i]</code>，那么用<code>map</code>保存当前差值<code>(left1[i]-left2[i])</code>出现的最早位置</p><blockquote><p>当然这题对字母、数字建模为-1，1。可以压缩空间到O(n);且用桶代替map的时间效率更高。 这里重点介绍移项的思想</p></blockquote><h4 id="代码-1">代码</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">vector&lt;string&gt; <span class="hljs-title">findLongestSubarray</span><span class="hljs-params">(vector&lt;string&gt; &amp;array)</span></span><br><span class="hljs-function"></span>&#123;<br>    unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; uii;<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">left1</span><span class="hljs-params">(array.size() + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)</span></span>;<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">left2</span><span class="hljs-params">(array.size() + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)</span></span>;<br><br>    vector&lt;string&gt; ansv;<br>    <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>    pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; ansp = <span class="hljs-built_in">make_pair</span>(array.<span class="hljs-built_in">size</span>() + <span class="hljs-number">1</span>, array.<span class="hljs-built_in">size</span>() + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; array.<span class="hljs-built_in">size</span>(); i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span> ((array[i][<span class="hljs-number">0</span>] &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; array[i][<span class="hljs-number">0</span>] &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>) || (array[i][<span class="hljs-number">0</span>] &gt;= <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; array[i][<span class="hljs-number">0</span>] &lt;= <span class="hljs-string">&#x27;z&#x27;</span>))<br>        &#123;<br>            left1[i + <span class="hljs-number">1</span>] = left1[i] + <span class="hljs-number">1</span>;<br>            left2[i + <span class="hljs-number">1</span>] = left2[i];<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            left1[i + <span class="hljs-number">1</span>] = left1[i];<br>            left2[i + <span class="hljs-number">1</span>] = left2[i] + <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt;= array.<span class="hljs-built_in">size</span>(); j++)<br>    &#123;<br>        <span class="hljs-type">int</span> tp = left1[j] - left2[j];<br>        <span class="hljs-keyword">if</span> (uii.<span class="hljs-built_in">find</span>(tp) != uii.<span class="hljs-built_in">end</span>())<br>        &#123;<br>            <span class="hljs-keyword">if</span> (j - uii[tp] + <span class="hljs-number">1</span> &gt; ans)<br>            &#123;<br>                ansp.first = uii[tp];<br>                ansp.second = j;<br>                ans = <span class="hljs-built_in">max</span>(ans, j - uii[tp] + <span class="hljs-number">1</span>);<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (j - uii[tp] + <span class="hljs-number">1</span> == ans &amp;&amp; uii[tp] &lt; ansp.first)<br>            &#123;<br>                ansp.first = uii[tp];<br>                ansp.second = j;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            uii[tp] = j;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (ansp.first == array.<span class="hljs-built_in">size</span>() + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> ansv;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = ansp.first; i &lt; ansp.second; i++)<br>    &#123;<br>        ansv.<span class="hljs-built_in">push_back</span>(array[i]);<br>        cout &lt;&lt; array[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ansv;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="统计中位数为-k-的子数组"><ahref="https://leetcode.cn/problems/count-subarrays-with-median-k/description/">2488.统计中位数为 K 的子数组</a></h3><h4 id="思路1">思路1</h4><p>0、找到k所在的位置kInd</p><p>1、写出<mark>目标表达式：</mark>: <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 对于奇数长度的子序列：</span><br>「左侧小于 + 右侧小于 = 左侧大于 + 右侧大于」<br><span class="hljs-comment">//等价于</span><br>「左侧小于 - 左侧大于 = 右侧大于 - 右侧小于」<br><br><span class="hljs-comment">// 对于偶数长度的子序列：</span><br>「左侧小于 + 右侧小于 + <span class="hljs-number">1</span> = 左侧大于 + 右侧大于」<br><span class="hljs-comment">//等价于</span><br>「左侧小于 - 左侧大于 = 右侧大于 - 右侧小于 - <span class="hljs-number">1</span>」<br><br></code></pre></td></tr></table></figure>2、统计kInd左右侧，每个位置到kInd这段子数组中，小于、大于K值的位置数，分别记为smallK、bigK；</p><p>3、用一个哈希记录左侧每个位置的smallK -bigK位置数、右侧bigK-smallK的位置数，然后同时开第2个维度，记录位置的距离kInd的奇、偶。</p><p>4、之后根据不同位置距离kInd的奇数、偶数，可以得到子序列的奇偶，也就可以使用步骤1中的目标表达式，具体见下面代码</p><h4 id="思路2"><mark>思路2：</mark></h4><p>参考：灵神的神级建模，见<ahref="https://leetcode.cn/problems/count-subarrays-with-median-k/solutions/1993439/deng-jie-zhuan-huan-pythonjavacgo-by-end-5w11/">原题解</a></p><h4 id="代码-2">代码</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// （思路1）</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">countSubarrays</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;nums, <span class="hljs-type">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> kInd = <span class="hljs-number">-1</span>;<br>    <span class="hljs-type">int</span> bigK;<br>    <span class="hljs-type">int</span> smallK;<br>    unordered_map&lt;<span class="hljs-type">int</span>, vector&lt;<span class="hljs-type">int</span>&gt;&gt; leftH;<br>    unordered_map&lt;<span class="hljs-type">int</span>, vector&lt;<span class="hljs-type">int</span>&gt;&gt; rightH;<br><br>    set&lt;<span class="hljs-type">int</span>&gt; hasPos;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.<span class="hljs-built_in">size</span>(); i++)<br>        <span class="hljs-keyword">if</span> (nums[i] == k)<br>            kInd = i;<br>    <span class="hljs-type">int</span> i = kInd - <span class="hljs-number">1</span>, j = kInd + <span class="hljs-number">1</span>;<br><br>    leftH[<span class="hljs-number">0</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;;<br>    rightH[<span class="hljs-number">0</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;;<br>    smallK = <span class="hljs-number">0</span>;<br>    bigK = <span class="hljs-number">0</span>;<br>    hasPos.<span class="hljs-built_in">insert</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">// 统计</span><br>    <span class="hljs-keyword">while</span> (i &gt;= <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (nums[i] &lt; k)<br>        &#123;<br>            smallK++;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            bigK++;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (leftH.<span class="hljs-built_in">find</span>(smallK - bigK) == leftH.<span class="hljs-built_in">end</span>())<br>        &#123;<br>            vector&lt;<span class="hljs-type">int</span>&gt; tp = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;;<br>            tp[(kInd - i) % <span class="hljs-number">2</span>] = <span class="hljs-number">1</span>;<br>            leftH[smallK - bigK] = tp;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            leftH[smallK - bigK][(kInd - i) % <span class="hljs-number">2</span>]++;<br>        &#125;<br>        i--;<br>    &#125;<br>    smallK = <span class="hljs-number">0</span>;<br>    bigK = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (j &lt; nums.<span class="hljs-built_in">size</span>())<br>    &#123;<br><br>        <span class="hljs-keyword">if</span> (nums[j] &lt; k)<br>        &#123;<br>            smallK++;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            bigK++;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (rightH.<span class="hljs-built_in">find</span>(bigK - smallK) == rightH.<span class="hljs-built_in">end</span>())<br>        &#123;<br>            vector&lt;<span class="hljs-type">int</span>&gt; tp = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;;<br>            tp[(j - kInd) % <span class="hljs-number">2</span>] = <span class="hljs-number">1</span>;<br>            rightH[bigK - smallK] = tp;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            rightH[bigK - smallK][(j - kInd) % <span class="hljs-number">2</span>]++;<br>        &#125;<br>        hasPos.<span class="hljs-built_in">insert</span>(bigK - smallK);<br>        j++;<br>    &#125;<br><br>    <span class="hljs-comment">// hash统计位置数</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> pos : hasPos)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (leftH.<span class="hljs-built_in">find</span>(pos) != leftH.<span class="hljs-built_in">end</span>())<br>        &#123;<br>            <span class="hljs-type">int</span> rOu = rightH[pos][<span class="hljs-number">0</span>];<br>            <span class="hljs-type">int</span> lOu = leftH[pos][<span class="hljs-number">0</span>];<br>            <span class="hljs-type">int</span> rJi = rightH[pos][<span class="hljs-number">1</span>];<br>            <span class="hljs-type">int</span> lJi = leftH[pos][<span class="hljs-number">1</span>];<br>            ans += rOu * lOu;<br>            ans += rJi * lJi;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (leftH.<span class="hljs-built_in">find</span>(pos - <span class="hljs-number">1</span>) != leftH.<span class="hljs-built_in">end</span>())<br>        &#123;<br>            ans += rightH[pos][<span class="hljs-number">0</span>] * leftH[pos - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br>            ans += rightH[pos][<span class="hljs-number">1</span>] * leftH[pos - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="二剪枝">二、剪枝</h2><p>●原理：广义的剪枝法，就是将没有必要的搜索空间直接跳过，常见于递归问题。但要建立一个剪枝的思想，在各类问题中都适用，<mark>不局限于递归、搜索树。</mark></p><p>●效果： 将算法进行不同程度优化</p><h3 id="最大网络秩"><ahref="https://leetcode.cn/problems/maximal-network-rank/description/">1615.最大网络秩</a></h3><p>参考(关注思路2的分类讨论)：<ahref="https://leetcode.cn/problems/maximal-network-rank/solutions/2167846/zui-da-wang-luo-zhi-by-leetcode-solution-x4gx/">leetcode官方题解</a></p>]]></content>
    
    
    <categories>
      
      <category>基础算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>旧博客打包部署流程</title>
    <link href="/2023/09/17/old-blog-package-deploy/"/>
    <url>/2023/09/17/old-blog-package-deploy/</url>
    
    <content type="html"><![CDATA[<h2 id="al小站博客简介">“AL小站”博客简介</h2><ul><li>这是一个前后端<strong>不分离</strong>的web项目 , 已失效的链接 <ahref="http://www.yuguang.zone">AL's Blog</a></li><li>前端：semantic-ui组件库，thymeleaf模板引擎</li><li>后端：springboot、mybatis-plus</li></ul><h2 id="前置条件">0、前置条件</h2><ul><li><p>有一台云服务器</p></li><li><p>云服务器上面安全组配置，要打开一些端口号（http、mysql等等对应的不同端口），如图：</p><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230917084808737.png" alt="安全组配置" style="zoom:33%;" /></p></li></ul><h2 id="打包步骤">1、打包步骤</h2><h3 id="移除springboot内嵌的tomcat">1.1 移除springboot内嵌的tomcat</h3><p><strong>修改pom.xml文件</strong> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 移除原本自带的tomcat --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 添加servle依赖 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure> ### 1.2 设置打包的方式依旧是<strong>pom.xml文件</strong>，设置打包导出<code>war</code><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.aidan<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>albog-server<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>war<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>albog-server<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br></code></pre></td></tr></table></figure></p><h3 id="启动类继承springbootservletinitializer">1.3启动类继承SpringBootServletInitializer</h3><p><strong>修改后</strong>的启动类代码 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@MapperScan(&quot;com.aidan.alblogserver.mapper&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AlblogServerApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SpringBootServletInitializer</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> SpringApplicationBuilder <span class="hljs-title function_">configure</span><span class="hljs-params">(SpringApplicationBuilder builder)</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.configure(builder);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        SpringApplication.run(AlblogServerApplication.class, args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></p><h3 id="打包成war">1.4 打包成war</h3><p>idea里面依次点击<code>clean</code>-<code>package</code>，如下图："idea中的按钮"</p><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230917085129130.png" alt="idea操作位置" style="zoom:33%;" /></p><p>工程文件夹下的<strong>target</strong>里面生成了对应的war包。</p><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230917085217315.png" alt="war包位置" style="zoom:33%;" /></p><p><strong>至此，完成了打包过程。</strong></p><h2 id="服务器环境配置">2、服务器环境配置</h2><ul><li>目标服务器环境（Centos7）</li><li>在<code>war</code>传到服务器之前，先准备好环境，包括以下内容：</li><li>mysql</li><li>jdk</li><li>tomcat</li></ul><h3 id="安装mysql">2.1 安装MySQL</h3><p>卸载Centos7自带mariadb <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">查找</span><br>rpm -qa|grep mariadb<br><span class="hljs-meta prompt_"># </span><span class="language-bash">mariadb-libs-5.5.52-1.el7.x86_64</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">卸载</span><br>rpm -e mariadb-libs-5.5.52-1.el7.x86_64 --nodeps<br></code></pre></td></tr></table></figure> 解压mysql <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">创建mysql安装包存放点</span><br>mkdir /usr/server/mysql<br><span class="hljs-meta prompt_"># </span><span class="language-bash">解压</span><br>tar xvf mysql-5.7.34-1.el7.x86_64.rpm-bundle.tar<br></code></pre></td></tr></table></figure> 执行安装<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">切换到安装目录</span><br>cd /usr/server/mysql/<br>yum -y install libaio<br>yum -y install libncurses*<br>yum -y install perl perl-devel<br><span class="hljs-meta prompt_"># </span><span class="language-bash">安装</span><br>rpm -ivh mysql-community-common-5.7.34-1.el7.x86_64.rpm<br>rpm -ivh mysql-community-libs-5.7.34-1.el7.x86_64.rpm<br>rpm -ivh mysql-community-client-5.7.34-1.el7.x86_64.rpm<br>rpm -ivh mysql-community-server-5.7.34-1.el7.x86_64.rpm<br></code></pre></td></tr></table></figure></p><p>修改密码 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">启动mysql</span><br>systemctl start mysqld.service<br><span class="hljs-meta prompt_">#</span><span class="language-bash">查看生成的临时root密码</span><br>cat /var/log/mysqld.log | grep password<br><span class="hljs-meta prompt_"># </span><span class="language-bash">登录mysql</span><br>mysql -u root -p<br>Enter password: #输入在日志中生成的临时密码<br><span class="hljs-meta prompt_"># </span><span class="language-bash">更新root密码 设置为root</span><br>set global validate_password_policy=0;<br>set global validate_password_length=1;<br>set password=password(&#x27;root&#x27;);<br></code></pre></td></tr></table></figure> 授予远程连接权限 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">grant all privileges on *.* to &#x27;root&#x27; @&#x27;%&#x27; identified by &#x27;root&#x27;;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">刷新</span><br>flush privileges;<br><br></code></pre></td></tr></table></figure> 控制命令<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">mysql的启动和关闭 状态查看</span><br>systemctl stop mysqld<br>systemctl status mysqld<br>systemctl start mysqld<br><span class="hljs-meta prompt_">#</span><span class="language-bash">建议设置为开机自启动服务</span><br>systemctl enable mysqld<br><span class="hljs-meta prompt_">#</span><span class="language-bash">查看是否已经设置自启动成功</span><br>systemctl list-unit-files | grep mysqld<br></code></pre></td></tr></table></figure> 关闭防火墙 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --state #查看防火墙状态<br>systemctl stop firewalld.service #停止firewall<br>systemctl disable firewalld.service #禁止firewall开机启动<br></code></pre></td></tr></table></figure></p><h3 id="配置jdk">2.2 配置JDK</h3><p>下载JDK，登录官方https://www.oracle.com/java/technologies/downloads/#java8下载所需版本的JDK，版本为JDK 1.8,如图：</p><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230917085258251.png" alt="jdk下载包" style="zoom:33%;" /></p><p>解压 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -zvxf jdk-8u131-linux-x64.tar.gz<br></code></pre></td></tr></table></figure> 编辑 /etc/profile 文件 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">vi /etc/profile<br><span class="hljs-meta prompt_"># </span><span class="language-bash">文件末尾增加</span><br>export JAVA_HOME=/usr/server/jdk1.8.0_131<br>export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH<br></code></pre></td></tr></table></figure>执行source命令，使配置立即生效 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">source /etc/profile<br></code></pre></td></tr></table></figure> 检查是否安装成功<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">java -version<br></code></pre></td></tr></table></figure></p><h3 id="安装tomcat">2.3 安装tomcat</h3><p>官网地址：https://tomcat.apache.org/将下载的<strong>apache-tomcat-8.5.86.tar.gz</strong>安装包放在服务器的<code>/usr/home/download</code>目录，并解压</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">进入/usr/local/download目录</span><br>cd /usr/local/download<br><span class="hljs-meta prompt_"># </span><span class="language-bash">解压Tomcat压缩包</span><br>tar -zxvf apache-tomcat-8.5.86.tar.gz<br></code></pre></td></tr></table></figure><p>进入Tomcat的bin目录，启动Tomcat <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">进入Tomcat的bin目录，启动Tomcat</span><br>cd apache-tomcat-8.5.86/bin/<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">启动Tomcat</span><br>./startup.sh<br></code></pre></td></tr></table></figure>使用浏览器访问Tomcat，地址Linux的ip:8080，若成功可以看到tomcat的欢迎页面，之后在war上传前先关闭tomcat：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">暂时先关闭Tomcat</span><br>./shutdown.sh<br></code></pre></td></tr></table></figure> 配置tomcat环境变量 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vi /etc/profile<br></code></pre></td></tr></table></figure> 最后几行现在变成这样<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">export CATALINA_BASE=/home/download/apache-tomcat-8.5.86<br>export CATALINA_HOME=/home/download/apache-tomcat-8.5.86<br>export JAVA_HOME=/usr/server/jdk8/jdk1.8.0_192<br>export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH<br></code></pre></td></tr></table></figure> <strong>记得再source一下配置文件！</strong></p><h2 id="部署过程">3、部署过程</h2><p><strong>注意：当前tomcat处于关闭状态</strong></p><h3 id="删除原本tomcat文件夹下的root目录">3.1删除原本tomcat文件夹下的ROOT目录</h3><p>进入tomcat的webapps文件夹，删除其下ROOT文件夹 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd apache-tomcat-8.5.86/webapps<br>rm -rf ROOT<br></code></pre></td></tr></table></figure></p><h3 id="上传war包到webapps文件夹">3.2 上传war包到webapps文件夹</h3><p>将war上传到webapps文件夹，<strong>修改war名为<code>ROOT.war</code></strong>。启动tomcat： <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">进入Tomcat的bin目录，启动Tomcat</span><br>cd apache-tomcat-8.5.86/bin/<br><span class="hljs-meta prompt_"># </span><span class="language-bash">启动Tomcat</span><br>./startup.sh<br></code></pre></td></tr></table></figure>此时，会自动解压该war包，生成一个新的ROOT文件夹。<strong>至此，终于完成部署</strong>！通过IP:端口号可以访问博客服务</p><h2 id="tomcat的端口设置">4、tomcat的端口设置</h2><blockquote><p>由于最终是想通过域名进行访问，而不是ip:端口方式，因此后续会进行域名的解析，但是解析无法到解析端口，用户访问域名时会默认访问80端口</p></blockquote><ul><li>方案1：ngnix进行端口转发（略）</li><li>方案2：设置项目的port为80，修改tomcat默认端口由于博主很懒，采用了方案2，步骤如下：</li></ul><h3 id="修改项目application.yml">4.1 修改项目application.yml</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">80</span><br></code></pre></td></tr></table></figure><h3 id="修改tomcat的配置">4.2 修改tomcat的配置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">假设已经在tomcat目录，进入tomcat的conf目录</span><br>cd conf<br><span class="hljs-meta prompt_"># </span><span class="language-bash">编辑server.xml</span><br>vi server.xml<br></code></pre></td></tr></table></figure><p>将如下几行8080修改为80 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><br><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8080&quot;</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;HTTP/1.1&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">connectionTimeout</span>=<span class="hljs-string">&quot;20000&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">redirectPort</span>=<span class="hljs-string">&quot;8443&quot;</span> /&gt;</span><br><span class="hljs-comment">&lt;!-- A &quot;Connector&quot; using the shared thread pool--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">executor</span>=<span class="hljs-string">&quot;tomcatThreadPool&quot;</span></span><br><span class="hljs-tag"> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8080&quot;</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;HTTP/1.1&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">redirectPort</span>=<span class="hljs-string">&quot;8443&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure>关闭再重启tomcat服务，<strong>完成！</strong></p>]]></content>
    
    
    <categories>
      
      <category>Web开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>服务器部署</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>微电子前沿技术-Lesson1</title>
    <link href="/2023/09/16/microelectronic-cutting-edge-leeson1/"/>
    <url>/2023/09/16/microelectronic-cutting-edge-leeson1/</url>
    
    <content type="html"><![CDATA[<h2 id="半导体器件">半导体器件</h2><h3 id="分类按产品">分类（按产品）</h3><ul><li>集成电路（比例：市场份额）<ul><li><strong>模拟芯片</strong>（15%）</li><li>数字芯片（85%）</li></ul></li><li>光电子</li><li>传感器</li><li>分立的器件</li></ul><h4 id="国内芯片设计公司产品领域分布">国内芯片设计公司产品领域分布</h4><ul><li>高点：消费类、通信</li><li>增长点：多媒体、计算机芯片</li><li>模拟芯片占比国内12.8%</li></ul><h3 id="模拟芯片">模拟芯片</h3><blockquote><p>*：市场份额最大的</p></blockquote><ul><li>信号链<ul><li>ADC、DAC</li><li>放大器、比较器（*）</li><li>接口芯片</li></ul></li><li>电源链（*）</li><li>射频前端</li></ul><h4 id="电源管理">电源管理</h4><h5 id="功能">功能</h5><ul><li>负责在电子设备系统中对电能进行变换、分配、检测以及其他电能指责的芯片</li><li>将源电压、电流转化为可被微处理器、传感器等负载使用的电源</li></ul><h5 id="分类">分类</h5><ul><li>开关电源（DC/DC，AC/DC）<ul><li>电荷泵-手机快充相关</li></ul></li><li>线性电源<ul><li><ahref="https://zhuanlan.zhihu.com/p/36101543">参考和开关电源的区别</a></li></ul></li><li>电池管理<ul><li>充电管理：手机最佳充电范围 (20%,80%）</li><li>电池保护：和电池管理芯片协同起作用</li></ul></li><li>电源开关<ul><li>负载开关：置于电池、电源和负载之间，只有在系统需要负载时才打开，从而最大限度地减少电力消耗</li><li>低侧开关、高侧开关：相对于外部负载，将半导体<em>开关</em>配置在上侧电路的叫作高边，配置在下侧电路叫作低边</li></ul></li><li>LED驱动</li><li>MOS驱动<ul><li>多应用于工业类的汽车等器件，控制电压率、速度</li></ul></li><li>电机驱动</li></ul><h2 id="reference">Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1"class="footnote-text"><span>https://zhuanlan.zhihu.com/p/36101543<a href="#fnref:1" rev="footnote" class="footnote-backref">↩︎</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>PKU lessons</category>
      
      <category>PG-1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>微电子</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>商业创新与金融战略-Lesson1</title>
    <link href="/2023/09/15/business-innovation-lesson1/"/>
    <url>/2023/09/15/business-innovation-lesson1/</url>
    
    <content type="html"><![CDATA[<h2 id="新一代的金融业格局">新一代的金融业格局</h2><p>围绕霸权的三大斗争</p><ol type="1"><li><p>科技公司和金融机构：一键式的支付、充值、融资等综合金融服务</p></li><li><p>客户接触点、客户体验、维护客户关系</p></li><li><p>行业的秩序和格局的重定义</p></li></ol><h2 id="市场结构">市场结构</h2><p>结构可以分为4种类型</p><ol type="1"><li><p>完全竞争</p></li><li><p>垄断竞争</p></li><li><p>寡头垄断</p></li><li><p>完全垄断</p></li></ol><h2 id="商业模式">商业模式</h2><p><strong>定义：创造和传递客户价值的方式</strong></p><p><strong>价值链：创造和传递客户价值的过程流程</strong></p><h3 id="商业模式的创新">商业模式的创新</h3><h4 id="模仿">模仿</h4><ul><li>很多商业的产生都是模仿，模仿难易：制度 &gt; 产品 &gt; 战略 &gt;商业模式</li></ul><h4 id="回归价值目标">回归价值目标</h4><ul><li>集中市场占有率</li><li>集中资源</li><li>集中管理效能</li></ul><h4 id="分析工具创新板">分析工具：创新板</h4><center><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230915204406290.png" alt="image-20230915204406290" style="zoom:33%;" /><br> 商业模式的创新板</center><h4 id="案例-itune的创新板">案例: itune的创新板</h4><center><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/202309152045519.png" alt="ipod的商业模式" style="zoom:50%;" /><br> ipod/itunes的创新板</center>]]></content>
    
    
    <categories>
      
      <category>PKU lessons</category>
      
      <category>PG-1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>金融</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>商业创新与金融战略-课程介绍</title>
    <link href="/2023/09/15/business-innovation-intro/"/>
    <url>/2023/09/15/business-innovation-intro/</url>
    
    <content type="html"><![CDATA[<h2 id="pre">Pre</h2><p><strong>思考：3年在100年中的意义？</strong></p><h3 id="专业主义">专业主义</h3><ul><li><p>目标：系统化的知识，属于自己独立思维的专业逻辑</p></li><li><p>手段：系统地阅读</p></li></ul><h3 id="理财课程目标">理财(课程目标)</h3><ul><li>需要体系的金融知识</li><li>了解真实的商业环境</li></ul><h2 id="课程安排">课程安排</h2><p>重点关注一个金融企业组织的不同时期的商业创新和战略选择问题</p><h3 id="内容大纲">内容大纲</h3><p>十二个主题:</p><ol type="1"><li>金融战略框架和商业环境</li><li>国民经济和金融体系</li><li>企业能力和信用评级</li><li>商业银行的业务战略与转型</li><li>投资银行（券商）的竞争策略</li><li>保险公司的多元化与专业化</li><li>私募基金公司的合作战略</li><li>金融互联网与互联网金融的国际化战略</li><li>金融工具与项目融资的匹配</li><li>企业成长策略：IPO和二级市场策略</li><li>金融类大型企业战略：母子公司管控</li><li>金融产业政策与管控</li></ol><p>另外，十个金融回归实业的案例、部分前沿文献</p><h3 id="考核">考核</h3><ul><li>案例分析</li><li>个人大作业，对于session的探讨</li></ul><h2 id="reference">Reference</h2><ol type="1"><li>《专业主义》大前研一</li></ol>]]></content>
    
    
    <categories>
      
      <category>PKU lessons</category>
      
      <category>PG-1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>金融</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>操作系统与虚拟化安全-课程介绍</title>
    <link href="/2023/09/15/OS-Virtualization-Security-intro/"/>
    <url>/2023/09/15/OS-Virtualization-Security-intro/</url>
    
    <content type="html"><![CDATA[<h2 id="背景介绍">背景介绍</h2><h3 id="os的主流结构">OS的主流结构</h3><h4 id="微内核">微内核</h4><ul><li><p>定义：仅仅将os的核心功能（IPC通信、地址空间分配和基本的调度）加入内核，其余以用户态的进程方式提供服务的形式。（C-S）</p></li><li><p>优点</p><ul><li><p>面向对象原则，低耦合</p></li><li><p>支持分布式系统</p></li><li><p>可伸缩性好</p></li><li><p>可移植性好：与机器相关的代码隔离在很少部分的代码</p><center><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230915111415794.png" alt="image-20230915111415794" style="zoom:50%;" /><br> 微内核的特点</p></center></li></ul></li><li><p>缺点</p></li></ul><h4 id="宏内核">宏内核</h4><ul><li>定义：将os的功能都放在内核态</li><li>优点<ul><li>实现简单</li><li>执行效率高</li></ul></li><li>缺点<ul><li>耦合度高</li><li>单点故障</li></ul></li></ul><h4 id="混合内核">混合内核</h4><ul><li>简单的思路：混合内核中会将一些原本微内核中运行在用户层的功能模块放回内核中，而不常用的，或者需要的时间很长的功能模块还是放在用户层</li></ul><h3 id="虚拟化技术">虚拟化技术</h3><ul><li><p>背景</p><ul><li><p>传统烟囱式的资源配置方式</p><center><p><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230915111530927.png" alt="image-20230915111530927" style="zoom:50%;" /><br> 烟囱式的资源配置方式示意图</p></center></li><li><p>应用部署的周期长</p></li><li><p>服务器利用率的低下</p></li></ul></li><li><p>定义</p><ul><li>虚拟化是表示计算机资源的抽象方法，通过虚拟化可以用与访问抽象前资源一致的方法访问抽象后的资源<center><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230915111547979.png" alt="image-20230915111547979" style="zoom:50%;" /><br> 理解虚拟计算模式</center></li></ul></li><li><p>常见的虚拟化软件、相关技术</p><ul><li>vmware<ul><li>vmware workstation：有一层host os，运行在host os上</li><li>ESX-sever：直接运行在硬件上</li></ul></li><li>Xen</li></ul></li></ul><h2 id="课程安排">课程安排</h2><blockquote><p>了解了linux内核、虚拟化技术的基础上，对其中的安全机制进行原理学习与实践</p></blockquote><h3 id="知识大纲">知识大纲</h3><ol type="1"><li>预备知识（linux、虚拟化）</li><li>安全概念与标准</li><li>安全机制</li><li>安全模型</li><li>安全体系架构</li><li>安全开发方法</li><li>os安全增强</li><li>虚拟化安全增强</li></ol><h3 id="实践安排">实践安排</h3><p>基于os或者虚拟化的安全开发实践，推荐选题如下：</p><center><img src="https://cdn.jsdelivr.net/gh/AL-377/pic_bed/img/image-20230915111604479.png" alt="image-20230915111604479" style="zoom:33%;" /><br> 推荐的选题</center><!-- 参考内容 --><h2 id="reference">Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><ahref="https://www.coursera.org/learn/os-virtsecurity#testimonials">Coursea课程</a><a href="#fnref:1" rev="footnote" class="footnote-backref">↩︎</a></span></span></li><li><span id="fn:2"class="footnote-text"><span>《Linux内核设计的艺术：图解操作系统架构设计与实现原理》<a href="#fnref:2" rev="footnote" class="footnote-backref">↩︎</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>PKU lessons</category>
      
      <category>PG-1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OS</tag>
      
      <tag>Virtualization</tag>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
